/**
 * ZHZ: ç”„å¬›ä¼ äººæ ¼æµ‹è¯„
 *
 * åŸºäºã€Šç”„å¬›ä¼ ã€‹ä¸­çš„12ä½æ ¸å¿ƒäººç‰©ä¸ºåŸå‹
 * é€šè¿‡å…«ç»´åº¦æ¨¡å‹è¯„ä¼°ç”¨æˆ·çš„äººæ ¼ç‰¹å¾ï¼ˆ5ä¸ªä¼ ç»Ÿç»´åº¦ + 3ä¸ªç°ä»£ç»´åº¦ï¼‰
 */

import type { QuizTemplate } from '@/types/quiz';

// å…­å¤§å¿ƒç†ç»´åº¦å®šä¹‰ï¼ˆä¼˜åŒ–åï¼šæ¶ˆé™¤é‡å ï¼Œå¢å¼ºäº’æ–¥æ€§ï¼‰
export const ZHZ_DIMENSIONS = {
  sensitivity: 'æƒ…ç»ªæ•æ„Ÿæ€§',   // å¯¹æƒ…ç»ªåˆºæ¿€çš„ååº”å¼ºåº¦ï¼ˆä½=ç¨³å®šå†·é™ â†” é«˜=æ•æ„Ÿè„†å¼±ï¼‰
  rationality: 'æ€ç»´æ¨¡å¼',     // å†³ç­–æ–¹å¼ï¼ˆä½=ç›´è§‰å†²åŠ¨ â†” é«˜=ç†æ€§è°‹åˆ’ï¼‰
  sociability: 'ç¤¾äº¤èƒ½é‡',     // ç¤¾äº¤è¡Œä¸ºå€¾å‘ï¼ˆä½=å†…å‘æ²‰é™ â†” é«˜=å¤–å‘å¼ æ‰¬ï¼‰
  idealism: 'ä»·å€¼å–å‘',        // ä»·å€¼æƒè¡¡å€¾å‘ï¼ˆä½=å®ç”¨ä¸»ä¹‰ â†” é«˜=ç†æƒ³ä¸»ä¹‰ï¼‰
  ambition: 'é‡å¿ƒæŒ‡æ•°',        // æˆåŠŸè¿½æ±‚ç¨‹åº¦ï¼ˆä½=éšé‡è€Œå®‰ â†” é«˜=è¿›å–å¿ƒå¼ºï¼‰
  authenticity: 'è‡ªæˆ‘è¡¨è¾¾',    // çœŸå®è‡ªæˆ‘å±•éœ²ï¼ˆä½=æˆ˜ç•¥æ©é¥° â†” é«˜=çœŸå®å¦ç‡ï¼‰
} as const;

// ç»´åº¦åŒææ ‡ç­¾ï¼ˆç”¨äºæ¡å½¢å›¾å¯è§†åŒ–ï¼‰
export const ZHZ_DIMENSION_LABELS = {
  sensitivity: {
    left: 'ç¨³å®šå†·é™',
    right: 'æ•æ„Ÿç»†è…»'
  },
  rationality: {
    left: 'ç›´è§‰å†²åŠ¨',
    right: 'ç†æ€§è°‹åˆ’'
  },
  sociability: {
    left: 'å†…å‘æ²‰é™',
    right: 'å¤–å‘å¼ æ‰¬'
  },
  idealism: {
    left: 'å®ç”¨ä¸»ä¹‰',
    right: 'ç†æƒ³ä¸»ä¹‰'
  },
  ambition: {
    left: 'éšé‡è€Œå®‰',
    right: 'è¿›å–å¿ƒå¼º'
  },
  authenticity: {
    left: 'æˆ˜ç•¥æ©é¥°',
    right: 'çœŸå®å¦ç‡'
  }
} as const;

// 12ä¸ªè§’è‰²çš„å…­ç»´åº¦åæ ‡ï¼ˆ0-1èŒƒå›´ï¼‰
// å·²æ‰‹åŠ¨è°ƒæ•´ä»¥å¢å¼ºè§’è‰²åŒºåˆ†åº¦å’ŒçœŸå®æ€§
export const CHARACTER_PROFILES = {
  'zhenhuan_early': {
    name: 'ç”„å¬›ï¼ˆå‰æœŸï¼‰',
    emoji: 'ğŸ•Šï¸',
    subtitle: 'ç†æƒ³ä¸»ä¹‰ä¸æ¸©æŸ”çš„åŠ›é‡',
    scores: {
      sensitivity: 0.80,    // æƒ…æ„Ÿç»†è…»ä¸ç†æƒ³ä¸»ä¹‰å¹¶å­˜
      rationality: 0.45,    // æœ‰ä¸€å®šåˆ¤æ–­åŠ›ä½†æ›´å¤šå‡­æ„Ÿæ€§
      sociability: 0.50,    // å¸¦æ¸©æš–çš„äººé™…å¸å¼•åŠ›
      idealism: 0.90,       // ç†æƒ³ä¸»ä¹‰è€…
      ambition: 0.45,       // åˆæœŸé‡å¿ƒä¸å¼º
      authenticity: 0.70,   // ç›¸å¯¹çœŸè¯š
    }
  },
  'zhenhuan_late': {
    name: 'ç”„å¬›ï¼ˆåæœŸï¼‰',
    emoji: 'ğŸ¦¢',
    subtitle: 'ç†æ™ºä¸æƒè¡¡çš„å¥³ç‹',
    scores: {
      sensitivity: 0.35,    // å®Œæˆæˆé•¿èœ•å˜ï¼Œæƒ…ç»ªç¨³å®š
      rationality: 0.95,    // å…¼å…·è°‹ç•¥ä¸å…‹åˆ¶
      sociability: 0.40,    // ä¸­ç­‰ç¤¾äº¤ï¼Œä¸å†ä½è°ƒ
      idealism: 0.40,       // æ›´ç°å®äº†
      ambition: 0.88,       // å¼ºçƒˆçš„è¿›å–å¿ƒ
      authenticity: 0.35,   // å­¦ä¼šäº†å…‹åˆ¶è¡¨è¾¾
    }
  },
  'anlingrong': {
    name: 'å®‰é™µå®¹',
    emoji: 'ğŸª',
    subtitle: 'æ•æ„Ÿè€Œè„†å¼±çš„è‡ªæˆ‘æ€€ç–‘è€…',
    scores: {
      sensitivity: 0.92,    // æ•æ„Ÿè„†å¼±ä¸”è‡ªæˆ‘æ€€ç–‘
      rationality: 0.60,    // ä»å…·ä¸€å®šåˆ¤æ–­åŠ›
      sociability: 0.25,    // å†…å‘ä¸å–„ç¤¾äº¤
      idealism: 0.65,       // ä¸­ç­‰ç†æƒ³ä¸»ä¹‰
      ambition: 0.55,       // æœ‰ä¸€å®šé‡å¿ƒä½†ä¸å¼º
      authenticity: 0.55,   // ä¸­ç­‰è¡¨è¾¾
    }
  },
  'queen': {
    name: 'çš‡å',
    emoji: 'ğŸ‘‘',
    subtitle: 'ç†æ€§ä¸ç§©åºçš„æŒæ§è€…',
    scores: {
      sensitivity: 0.20,    // æå¼ºç†æ€§ä¸å…‹åˆ¶
      rationality: 1.00,    // å®«å»·æƒè°‹çš„å†·é™ä¸­æ¢
      sociability: 0.15,    // æç«¯å†…æ•›
      idealism: 0.40,       // æœ‰ä¸€å®šåŸåˆ™ä½†åç°å®
      ambition: 0.95,       // å¼ºçƒˆçš„æƒåŠ›æ¬²
      authenticity: 0.10,   // æ·±åº¦ä¼ªè£…
    }
  },
  'huafei': {
    name: 'åå¦ƒ',
    emoji: 'ğŸ”¥',
    subtitle: 'å¤–æ”¾èƒ½é‡ä¸æè‡´æƒ…æ„Ÿ',
    scores: {
      sensitivity: 0.45,    // æƒ…ç»ªæœ‰æ³¢åŠ¨ä½†ä¸æ•æ„Ÿ
      rationality: 0.40,    // æ›´å¤šå‡­ç›´è§‰
      sociability: 0.95,    // æƒ…ç»ªå¤–æ”¾ã€å¼ºåŠ¿ç›´çƒ
      idealism: 0.30,       // æ›´ç°å®æˆ–åŠŸåˆ©
      ambition: 0.78,       // è¾ƒå¼ºé‡å¿ƒ
      authenticity: 0.95,   // æœ‰å‹è¿«æ€§å¼ åŠ›ï¼Œæƒ…ç»ªæ˜æ˜¾
    }
  },
  'shenmeizhuang': {
    name: 'æ²ˆçœ‰åº„',
    emoji: 'ğŸŒ¿',
    subtitle: 'ä¼˜é›…ä¸åšéŸ§å¹¶å­˜çš„ç†æ€§è€…',
    scores: {
      sensitivity: 0.35,    // ç¨³å®šå¯é 
      rationality: 0.65,    // æœ‰åˆ¤æ–­åŠ›
      sociability: 0.30,    // å®‰é™å†…æ•›
      idealism: 0.85,       // é‡æƒ…é‡ä¹‰ï¼Œæå¼ºé“å¾·è‡ªå¾‹
      ambition: 0.40,       // æ— æ„ç«äº‰
      authenticity: 0.60,   // è¡¨è¾¾è¾ƒå…‹åˆ¶
    }
  },
  'huanbi': {
    name: 'æµ£ç¢§',
    emoji: 'ğŸ’§',
    subtitle: 'ç°å®ä¸å¿ è¯šçš„è¡ŒåŠ¨æ´¾',
    scores: {
      sensitivity: 0.50,    // ä¸­ç­‰æƒ…ç»ªç¨³å®šæ€§
      rationality: 0.70,    // æœ‰åˆ¤æ–­åŠ›ä¹Ÿæœ‰é‡å¿ƒ
      sociability: 0.40,    // ä¸­ç­‰ç¤¾äº¤
      idealism: 0.50,       // ä¸­ç­‰ä»·å€¼å–å‘
      ambition: 0.90,       // è¡ŒåŠ¨è·¯å¾„æ›´æ¿€è¿›ç›´æ¥
      authenticity: 0.45,   // æœ‰ä¸€å®šä¼ªè£…
    }
  },
  'supeisheng': {
    name: 'è‹åŸ¹ç››',
    emoji: 'ğŸª¶',
    subtitle: 'å¿ å¿ƒè€¿è€¿çš„ä¸­åº¸è€…',
    scores: {
      sensitivity: 0.65,    // å–„äºå¯Ÿè¨€è§‚è‰²
      rationality: 0.55,    // ä¸­ç­‰ç†æ€§
      sociability: 0.85,    // å…«é¢ç²ç‘ï¼Œç¤¾äº¤èƒ½é‡é«˜
      idealism: 0.60,       // ä¸­ç­‰ä»·å€¼è§‚
      ambition: 0.30,       // æ²¡æœ‰æƒåŠ›æ¬²
      authenticity: 0.35,   // è¡¨è¾¾å…‹åˆ¶
    }
  },
  'guojunwang': {
    name: 'æœéƒ¡ç‹',
    emoji: 'ğŸŒ',
    subtitle: 'æµªæ¼«è‡ªç”±çš„ç†æƒ³è¡ŒåŠ¨æ´¾',
    scores: {
      sensitivity: 0.70,    // æƒ…æ„ŸçœŸæŒš
      rationality: 0.30,    // æ›´å¤šå‡­æƒ…æ„Ÿä¸æœ¬èƒ½
      sociability: 0.85,    // è‡ªç”±æµªæ¼«ã€å¤–æ”¾åˆçœŸè¯š
      idealism: 0.95,       // ç†æƒ³ä¸»ä¹‰è€…ï¼Œå¯Œæœ‰éª‘å£«ç²¾ç¥
      ambition: 0.45,       // ä¸­ç­‰é‡å¿ƒ
      authenticity: 0.85,   // æƒ…ç»ªè¡¨è¾¾ä¸°å¯Œ
    }
  },
  'wentaiyi': {
    name: 'æ¸©å¤ªåŒ»',
    emoji: 'ğŸŒ¸',
    subtitle: 'æ¸©æŸ”ç†æ™ºçš„ç–—æ„ˆè€…',
    scores: {
      sensitivity: 0.75,    // æƒ…æ„ŸçœŸæŒš
      rationality: 0.30,    // ä¸æ“…æƒåŠ›ç¤¾ä¼š
      sociability: 0.35,    // å®‰é™å†…æ•›
      idealism: 0.95,       // ç†æƒ³ä¸»ä¹‰è€…
      ambition: 0.10,       // éšé‡è€Œå®‰
      authenticity: 0.85,   // çœŸè¯šè¡¨è¾¾
    }
  },
  'emperor': {
    name: 'çš‡ä¸Š',
    emoji: 'ğŸ¦…',
    subtitle: 'æƒåŠ›ä¸ç§©åºçš„æŒèˆµè€…',
    scores: {
      sensitivity: 0.30,    // å¸ç‹äººæ ¼ï¼šå†·é™
      rationality: 0.95,    // ç†æ€§å¼º
      sociability: 0.60,    // æœ‰å¨ä¸¥çš„é¢†è¢–æ°”åœº
      idealism: 0.30,       // æ›´ç°å®
      ambition: 1.00,       // æƒåŠ›æ¬²æå¼º
      authenticity: 0.20,   // è¡Œä¸ºå…‹åˆ¶
    }
  },
  'ningguiren': {
    name: 'å®è´µäºº',
    emoji: 'ğŸ•°ï¸',
    subtitle: 'éšå¿æ·±æ€çš„ç°å®æ´¾',
    scores: {
      sensitivity: 0.55,    // ä¸­ç­‰æ•æ„Ÿ
      rationality: 0.85,    // æ·±åº¦å‹æŠ‘çš„ç­–ç•¥å‹äººç‰©
      sociability: 0.35,    // å€¾å‘å•ç‹¬è¡ŒåŠ¨
      idealism: 0.40,       // æ›´ç°å®
      ambition: 0.75,       // è¾ƒå¼ºé‡å¿ƒ
      authenticity: 0.15,   // ç²¾äºç®—è®¡ä½†ä¸å¤–éœ²
    }
  },
} as const;

// è§’è‰²IDåˆ°å›¾ç‰‡æ–‡ä»¶åçš„æ˜ å°„ï¼ˆä½¿ç”¨ä¼˜åŒ–åçš„WebPæ ¼å¼ï¼‰
export const CHARACTER_IMAGE_MAP: Record<string, string> = {
  'zhenhuan_early': 'ç”„å¬›å‰æœŸ.webp',
  'zhenhuan_late': 'ç”„å¬›åæœŸ.webp',
  'anlingrong': 'å®‰é™µå®¹.webp',
  'queen': 'çš‡å.webp',
  'huafei': 'åå¦ƒ.webp',
  'shenmeizhuang': 'æ²ˆçœ‰åº„.webp',
  'huanbi': 'æµ£ç¢§.webp',
  'supeisheng': 'è‹åŸ¹ç››.webp',
  'guojunwang': 'æœéƒ¡ç‹.webp',
  'wentaiyi': 'æ¸©å¤ªåŒ».webp',
  'emperor': 'çš‡ä¸Š.webp',
  'ningguiren': 'å®è´µäºº.webp',
} as const;

// è§’è‰²æ ¸å¿ƒç‰¹è´¨ï¼ˆç”¨äºåˆ†äº«å¡ç‰‡ï¼‰
export const CHARACTER_CORE_TRAITS: Record<string, string> = {
  'zhenhuan_early': 'ä½ å¿ƒæ€ç»†è…»ã€å–„è‰¯æ¸©å©‰ï¼Œé‡æƒ…é‡ä¹‰ã€‚ä½ ç›¸ä¿¡äººæ€§ç¾å¥½ï¼Œä¹Ÿå› æ­¤å®¹æ˜“å—ä¼¤ã€‚ä½ æœ‰æé«˜çš„åŒç†å¿ƒä¸é“å¾·æ„Ÿï¼Œæ„¿æ„ä¸ºäº†çˆ±å’ŒçœŸè¯šè€Œå¦¥åã€‚åœ¨äººé™…å…³ç³»ä¸­ï¼Œä½ å€¾å‘äºç”¨ç†è§£å’ŒåŒ…å®¹å»åŒ–è§£çŸ›ç›¾ï¼Œå¯¹å¾…æƒ…æ„Ÿæ—¶å……æ»¡æµªæ¼«çš„æœŸå¾…ã€‚',
  'zhenhuan_late': 'ä½ ç»å†äº†æˆé•¿çš„èœ•å˜ï¼Œæ˜ç™½æŸ”è½¯ä¹Ÿéœ€è¦é”‹èŠ’ã€‚ä½ æ‡‚å¾—å¹³è¡¡ç†æƒ³ä¸ç°å®ï¼Œç”¨ç­–ç•¥å®ˆæŠ¤åº•çº¿ã€‚åœ¨å¤æ‚çš„äººé™…å…³ç³»ä¸­ï¼Œä½ èƒ½å¤Ÿä¿æŒæ¸…é†’çš„å¤´è„‘ï¼Œæ—¢ä¸è½»æ˜“ä¿¡ä»»ä¹Ÿä¸è½»æ˜“æ”¾å¼ƒï¼Œå–„äºåœ¨é€‚å½“çš„æ—¶æœºé‡‡å–è¡ŒåŠ¨ã€‚',
  'anlingrong': 'ä½ å†…å¿ƒæ•æ„Ÿã€æ¸´æœ›è¢«çˆ±ï¼Œå´å®³æ€•è¢«å¿½è§†ã€‚å¤–ç•Œè¯„ä»·å¯¹ä½ å½±å“æ·±è¿œï¼Œå®¹æ˜“è‡ªè´£ä¸ç„¦è™‘ã€‚ä½ åŠªåŠ›æƒ³è¦è¯æ˜è‡ªå·±ï¼Œå´åˆæ‹…å¿ƒä¸å¤Ÿå¥½ã€‚åœ¨äººé™…äº¤å¾€ä¸­ï¼Œä½ å–„äºå¯Ÿè¨€è§‚è‰²ï¼Œä½†ä¹Ÿå®¹æ˜“è¿‡åº¦è§£è¯»ä»–äººçš„æ€åº¦ã€‚',
  'queen': 'ä½ æ€ç»´ç¼œå¯†ã€è®¡åˆ’å‘¨å…¨ï¼Œæ“…é•¿åœ¨å¤æ‚å…³ç³»ä¸­æŒæ¡ä¸»åŠ¨ã€‚ä½ ä¸è½»ä¿¡ä»–äººï¼Œä¹Ÿæåº¦è‡ªå¾‹ã€‚åœ¨ä½ çœ¼ä¸­ï¼Œä¸–ç•Œæ˜¯ä¸€ä¸ªéœ€è¦ç²¾å¿ƒç®¡ç†çš„ç³»ç»Ÿï¼Œä½ ä¹ æƒ¯äºåˆ¶å®šè§„åˆ™ã€æŒæ§å±€é¢ï¼Œå¹¶ç¡®ä¿ä¸€åˆ‡æŒ‰ç…§è®¡åˆ’è¿›è¡Œã€‚',
  'huafei': 'ä½ è‡ªä¿¡å¼ æ‰¬ã€æƒ…æ„Ÿæµ“çƒˆï¼Œå–œæ¬¢æŒæ§åœºé¢ï¼Œä¹Ÿå®³æ€•å­¤ç‹¬ã€‚çƒ­æƒ…æ˜¯çœŸå®çš„ä½ ï¼Œéª„å‚²æ˜¯ä½ çš„ç›”ç”²ã€‚ä½ ä¸å–œæ¬¢éšè—ï¼Œçˆ±æ¨åˆ†æ˜ï¼Œæƒ…ç»ªè¡¨è¾¾ç›´æ¥è€Œå¼ºçƒˆã€‚åœ¨ç¤¾äº¤åœºåˆä¸­ï¼Œä½ å¾€å¾€æ˜¯ç„¦ç‚¹ï¼Œä½†ä¹Ÿæ¸´æœ›è¢«çœŸæ­£ç†è§£ã€‚',
  'shenmeizhuang': 'ä½ çœ‹ä¼¼æ¸©æŸ”ï¼Œå®åˆ™åšéŸ§ã€‚åœ¨å›°å¢ƒä¸­ä¿æŒè‡ªå°Šï¼Œå®å¯å—å§”å±ˆï¼Œä¹Ÿä¸ä¸¢åˆ†å¯¸ã€‚ä½ æœ‰ç€å¼ºå¤§çš„å†…åœ¨åŠ›é‡å’Œè‡ªæˆ‘çº¦æŸåŠ›ï¼Œæ‡‚å¾—åœ¨é€‚å½“çš„æ—¶å€™åšæŒåŸåˆ™ï¼Œä¹ŸçŸ¥é“ä½•æ—¶è¯¥å¦¥åã€‚ä½ æ˜¯å…¸å‹çš„å¤–æŸ”å†…åˆšå‹äººæ ¼ã€‚',
  'huanbi': 'ä½ åŠ¡å®æœæ–­ï¼Œèƒ½åœ¨ç†æƒ³ä¸ç°å®ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ã€‚æœ‰é‡å¿ƒä½†ä¹Ÿæœ‰æƒ…ä¹‰ï¼Œæ“…é•¿éšå¿ä¸è‡ªæˆ‘è°ƒèŠ‚ã€‚ä½ æ¸…æ¥šåœ°çŸ¥é“è‡ªå·±æƒ³è¦ä»€ä¹ˆï¼Œä¹Ÿæ‡‚å¾—ä¸ºäº†ç›®æ ‡è¯¥ä»˜å‡ºä»€ä¹ˆã€‚ä½ ä¸ä¼šè¢«ä¸åˆ‡å®é™…çš„å¹»æƒ³æŸç¼šï¼Œä½†ä¹Ÿä¸æ˜¯å†·è¡€çš„åŠŸåˆ©ä¸»ä¹‰è€…ã€‚',
  'supeisheng': 'ä½ æ‡‚äººæƒ…ä¸–æ•…ï¼ŒçŸ¥é“ä½•æ—¶å‡ºå£°ã€ä½•æ—¶æ²‰é»˜ã€‚ä¸æ±‚é”‹èŠ’ï¼Œä½†æ±‚å®‰ç¨³ä¸åœ†æ»¡ã€‚ä½ æ˜¯å›¢é˜Ÿä¸­çš„æ¶¦æ»‘å‰‚ï¼Œå–„äºè§‚å¯Ÿå’Œè°ƒèŠ‚æ°”æ°›ï¼Œä¸ä¼šæˆä¸ºå†²çªçš„ä¸­å¿ƒï¼Œä½†å¾€å¾€æ˜¯å…³é”®æ—¶åˆ»çš„ç¨³å®šåŠ›é‡ã€‚',
  'guojunwang': 'ä½ çƒ­æƒ…çœŸè¯šã€å¯Œæœ‰æµªæ¼«ä¸»ä¹‰ç²¾ç¥ã€‚è¿½æ±‚çœŸçˆ±ä¸è‡ªç”±ï¼Œä¸æ„¿è¢«æŸç¼šåœ¨æƒåŠ›ä¹‹ä¸­ã€‚ä½ ç›¸ä¿¡çœŸæƒ…å®æ„Ÿï¼Œæ„¿æ„ä¸ºäº†ç†æƒ³å’Œçˆ±æƒ…æ”¾å¼ƒä¸–ä¿—çš„åˆ©ç›Šã€‚ä½ çš„çœŸè¯šå’Œçƒ­æƒ…æ„ŸæŸ“ç€å‘¨å›´çš„äººã€‚',
  'wentaiyi': 'ä½ å…³å¿ƒä»–äººï¼Œæ„¿æ„ä¸ºåˆ«äººæ‰¿æ‹…ç—›è‹¦ã€‚åœ¨å®‰é™ä¸­å±•ç°åŠ›é‡ï¼Œåœ¨ç†æ™ºä¸­å®ˆæŠ¤æ¸©æƒ…ã€‚ä½ æœ‰ç€æ¸©æš–çš„å†…å¿ƒå’Œå†·é™çš„å¤´è„‘ï¼Œæ—¢èƒ½æ„ŸåŒèº«å—ï¼Œåˆèƒ½ä¿æŒä¸“ä¸šçš„è·ç¦»ã€‚ä½ æ˜¯å¤©ç”Ÿçš„å€¾å¬è€…å’Œç–—æ„ˆè€…ã€‚',
  'emperor': 'ä½ å†·é™å†³æ–­ï¼Œæ“…é•¿ç»Ÿç­¹å…¨å±€ã€‚ç†æ€§å¼ºäºæ„Ÿæ€§ï¼Œé‡è§†æ§åˆ¶æ„Ÿå’Œç»“æœå¯¼å‘ã€‚ä½ ä¹ æƒ¯ç«™åœ¨é«˜å¤„ä¿¯ç°å…¨å±€ï¼Œå–„äºåœ¨å¤æ‚çš„å±€åŠ¿ä¸­åšå‡ºæœ€ä¼˜å†³ç­–ã€‚ä½ æ˜¯å¤©ç”Ÿçš„é¢†å¯¼è€…å’Œå†³ç­–è€…ã€‚',
  'ningguiren': 'ä½ æ·±è°™æƒè¡¡ä¹‹é“ï¼Œæ‡‚å¾—ç”¨è¡¨é¢çš„æ¸©å’Œæ©é¥°é”‹èŠ’ã€‚ä½ æ“…é•¿ç­–ç•¥ä¸æ—¶æœºåˆ¤æ–­ï¼Œæ˜¯å…¸å‹çš„éšå½¢å¼ºè€…ã€‚ä½ ä¸æ€¥äºè¡¨ç°ï¼Œè€Œæ˜¯é™å¾…æ—¶æœºï¼Œåœ¨å…³é”®æ—¶åˆ»æ‰å±•éœ²å®åŠ›ã€‚ä½ æ˜¯å¤§å™¨æ™šæˆå‹äººæ ¼ã€‚',
} as const;

// è§’è‰²è¯¦ç»†ç‰¹è´¨ï¼ˆç”¨äºç»“æœé¡µé¢è¯¦ç»†è§£è¯»ï¼‰
export const CHARACTER_DETAILED_TRAITS: Record<string, {
  advantages: string[];
  risks: string[];
}> = {
  'zhenhuan_early': {
    advantages: [
      'å…±æƒ…åŠ›å¼ºï¼šèƒ½å¤Ÿæ•é”æ„ŸçŸ¥ä»–äººæƒ…ç»ªï¼Œå–„äºå»ºç«‹æƒ…æ„Ÿè¿æ¥',
      'é“å¾·æ„Ÿé«˜ï¼šåšå®ˆåŸåˆ™ï¼Œä¸è½»æ˜“è¿èƒŒè‡ªå·±çš„ä»·å€¼è§‚',
      'çœŸè¯šæ¸©æš–ï¼šå®¹æ˜“è·å¾—ä»–äººçš„ä¿¡ä»»å’Œå¥½æ„Ÿ'
    ],
    risks: [
      'è¿‡åº¦ç†æƒ³åŒ–ï¼šå®¹æ˜“å¯¹äººå¯¹äº‹æŠ±æœ‰ä¸åˆ‡å®é™…çš„æœŸå¾…ï¼Œå¤±æœ›åå—ä¼¤ä¸¥é‡',
      'è¾¹ç•Œæ¨¡ç³Šï¼šä¸ºäº†ç»´æŠ¤å…³ç³»ï¼Œå¯èƒ½ç‰ºç‰²è‡ªå·±çš„éœ€æ±‚',
      'æ˜“å—ä¼¤å®³ï¼šå¯¹æ‰¹è¯„å’Œè´Ÿé¢è¯„ä»·æ•æ„Ÿï¼Œå®¹æ˜“é™·å…¥è‡ªæˆ‘æ€€ç–‘'
    ]
  },
  'zhenhuan_late': {
    advantages: [
      'æˆ˜ç•¥æ€ç»´ï¼šèƒ½å¤Ÿä»å…¨å±€è§’åº¦åˆ†æå½¢åŠ¿ï¼Œåˆ¶å®šé•¿è¿œè®¡åˆ’',
      'æƒ…ç»ªæŒæ§ï¼šä¸è½»æ˜“è¢«æƒ…ç»ªå·¦å³ï¼Œèƒ½å¤Ÿéšè—çœŸå®æƒ³æ³•',
      'é€‚åº”èƒ½åŠ›å¼ºï¼šåœ¨å˜åŒ–çš„ç¯å¢ƒä¸­å¿«é€Ÿè°ƒæ•´ç­–ç•¥'
    ],
    risks: [
      'ä¿¡ä»»å›°éš¾ï¼šè¿‡åº¦é˜²å¤‡å¯èƒ½è®©ä½ éš¾ä»¥å»ºç«‹çœŸæ­£çš„äº²å¯†å…³ç³»',
      'æƒ…æ„Ÿå‹æŠ‘ï¼šé•¿æœŸéšè—æƒ…ç»ªå¯èƒ½å¯¼è‡´å†…å¿ƒç–²æƒ«',
      'å­¤ç‹¬æ„Ÿï¼šç«™åœ¨é«˜å¤„çœ‹æ¸…ä¸€åˆ‡ï¼Œå´éš¾æœ‰çŸ¥å¿ƒäºº'
    ]
  },
  'anlingrong': {
    advantages: [
      'ç»†è‡´æ•é”ï¼šèƒ½å¤Ÿå‘ç°ä»–äººå¿½ç•¥çš„ç»†èŠ‚',
      'åŠªåŠ›ä¸Šè¿›ï¼šå¼ºçƒˆçš„è¿›å–å¿ƒé©±ä½¿ä½ ä¸æ–­æå‡è‡ªå·±',
      'è‰ºæœ¯å¤©èµ‹ï¼šæ•æ„Ÿçš„æƒ…ç»ªä½“éªŒè®©ä½ åœ¨è‰ºæœ¯è¡¨è¾¾ä¸Šæœ‰ç‹¬ç‰¹ä¼˜åŠ¿'
    ],
    risks: [
      'è‡ªæˆ‘ä»·å€¼æ„Ÿä½ï¼šè¿‡åº¦ä¾èµ–å¤–ç•Œè®¤å¯ï¼Œç¼ºä¹å†…åœ¨ç¨³å®šæ€§',
      'æƒ…ç»ªèµ·ä¼å¤§ï¼šå°äº‹ä¹Ÿå¯èƒ½å¼•å‘å¼ºçƒˆçš„æƒ…ç»ªååº”',
      'å…³ç³»ä¾èµ–ï¼šå®³æ€•è¢«æŠ›å¼ƒï¼Œå¯èƒ½åœ¨å…³ç³»ä¸­è¿‡åº¦ä»˜å‡ºæˆ–è®¨å¥½'
    ]
  },
  'queen': {
    advantages: [
      'ç³»ç»Ÿæ€ç»´ï¼šèƒ½å¤Ÿæ„å»ºå®Œæ•´çš„è®¡åˆ’ä½“ç³»ï¼Œè€ƒè™‘å‘¨å…¨',
      'è‡ªå¾‹èƒ½åŠ›å¼ºï¼šé«˜åº¦çš„è‡ªæˆ‘ç®¡ç†èƒ½åŠ›ï¼Œèƒ½å¤Ÿå»¶è¿Ÿæ»¡è¶³',
      'æ²‰ç€å†·é™ï¼šåœ¨å±æœºæ—¶åˆ»ä¿æŒæ¸…é†’ï¼Œä¸è¢«æƒ…ç»ªæ§åˆ¶'
    ],
    risks: [
      'è¿‡åº¦æ§åˆ¶ï¼šå¯¹ä¸ç¡®å®šæ€§çš„ææƒ§å¯èƒ½å¯¼è‡´è¿‡åº¦å¹²é¢„',
      'æƒ…æ„Ÿå†·æ¼ ï¼šè¿‡åˆ†ç†æ€§å¯èƒ½å¿½ç•¥ä»–äººçš„æƒ…æ„Ÿéœ€æ±‚',
      'å®Œç¾ä¸»ä¹‰ï¼šå¯¹è‡ªå·±å’Œä»–äººè¦æ±‚è¿‡é«˜ï¼Œéš¾ä»¥æ¥å—å¤±è´¥'
    ]
  },
  'huafei': {
    advantages: [
      'æ„ŸæŸ“åŠ›å¼ºï¼šçƒ­æƒ…æ´‹æº¢ï¼Œèƒ½å¤Ÿæ¿€åŠ±å’Œå¸¦åŠ¨ä»–äºº',
      'è‡ªä¿¡æœæ•¢ï¼šæ•¢äºè¡¨è¾¾ï¼Œä¸ç•æƒå¨ï¼Œè¡ŒåŠ¨åŠ›å¼º',
      'çœŸå®å¦ç‡ï¼šä¸è™šä¼ªåšä½œï¼Œè®©äººæ„Ÿåˆ°çœŸè¯š'
    ],
    risks: [
      'æƒ…ç»ªåŒ–ï¼šå®¹æ˜“è¢«æƒ…ç»ªä¸»å¯¼ï¼Œåšå‡ºå†²åŠ¨å†³å®š',
      'éœ€è¦å…³æ³¨ï¼šè¿‡åº¦ä¾èµ–å¤–ç•Œçš„è®¤å¯å’Œæ³¨æ„',
      'éš¾ä»¥ç¤ºå¼±ï¼šéª„å‚²çš„å¤–å£³ä¸‹å¯èƒ½éšè—ç€è„†å¼±'
    ]
  },
  'shenmeizhuang': {
    advantages: [
      'éŸ§æ€§å¼ºï¼šèƒ½å¤Ÿæ‰¿å—å‹åŠ›å’ŒæŒ«æŠ˜ï¼Œä¸è½»æ˜“æ”¾å¼ƒ',
      'è‡ªå°Šè‡ªé‡ï¼šæœ‰æ¸…æ™°çš„è‡ªæˆ‘è®¤çŸ¥å’Œè¾¹ç•Œæ„è¯†',
      'æƒ…ç»ªç¨³å®šï¼šä¸è½»æ˜“è¢«å¤–ç•Œå¹²æ‰°ï¼Œå†…å¿ƒå¹³å’Œ'
    ],
    risks: [
      'è¿‡åº¦å‹æŠ‘ï¼šä¸ºäº†ç»´æŠ¤å½¢è±¡ï¼Œå¯èƒ½å¿½è§†è‡ªå·±çš„çœŸå®éœ€æ±‚',
      'éš¾ä»¥æ±‚åŠ©ï¼šè‡ªå°Šå¿ƒå¼ºï¼Œä¸æ„¿ç¤ºå¼±æˆ–å¯»æ±‚å¸®åŠ©',
      'æƒ…æ„Ÿéšè—ï¼šä¸å–„äºè¡¨è¾¾å†…å¿ƒæƒ…æ„Ÿï¼Œå¯èƒ½è¢«è¯¯è§£ä¸ºå†·æ·¡'
    ]
  },
  'huanbi': {
    advantages: [
      'æ‰§è¡ŒåŠ›å¼ºï¼šè¯´å¹²å°±å¹²ï¼Œèƒ½å¤Ÿå°†è®¡åˆ’è½¬åŒ–ä¸ºè¡ŒåŠ¨',
      'ç°å®åŠ¡å®ï¼šèƒ½å¤Ÿå‡†ç¡®è¯„ä¼°å½¢åŠ¿ï¼Œä¸åšæ— è°“çš„ç‰ºç‰²',
      'å¿ è¯šå¯é ï¼šå¯¹è®¤å®šçš„äººå’Œç›®æ ‡ä¿æŒå¿ è¯š'
    ],
    risks: [
      'è¿‡äºå®é™…ï¼šå¯èƒ½åœ¨åˆ©ç›Šæƒè¡¡ä¸­å¿½è§†æƒ…æ„Ÿä»·å€¼',
      'é‡å¿ƒè†¨èƒ€ï¼šå¯¹æˆåŠŸçš„æ¸´æœ›å¯èƒ½å¯¼è‡´ä¸æ‹©æ‰‹æ®µ',
      'æƒ…æ„ŸçŸ›ç›¾ï¼šåœ¨å¿ è¯šä¸é‡å¿ƒä¹‹é—´å¯èƒ½äº§ç”Ÿå†…å¿ƒå†²çª'
    ]
  },
  'supeisheng': {
    advantages: [
      'æƒ…å•†é«˜ï¼šå–„äºå¯Ÿè¨€è§‚è‰²ï¼Œç†è§£ä¸åŒäººçš„éœ€æ±‚',
      'å¿ è¯šå¯é ï¼šå¯¹å›¢é˜Ÿå’Œé¢†å¯¼å¿ å¿ƒè€¿è€¿',
      'çµæ´»åº”å˜ï¼šèƒ½å¤Ÿåœ¨å¤æ‚æƒ…å¢ƒä¸­æ‰¾åˆ°åˆé€‚çš„åº”å¯¹æ–¹å¼'
    ],
    risks: [
      'ç¼ºä¹ä¸»è§ï¼šè¿‡åº¦é€‚åº”ä»–äººå¯èƒ½å¤±å»è‡ªæˆ‘',
      'å›é¿å†²çªï¼šä¸ºäº†ç»´æŒå’Œè°ï¼Œå¯èƒ½é€ƒé¿å¿…è¦çš„å¯¹æŠ—',
      'è‡ªæˆ‘ä»·å€¼æ„Ÿä½ï¼šä¹ æƒ¯æœåŠ¡ä»–äººï¼Œå¯èƒ½å¿½è§†è‡ªå·±çš„éœ€æ±‚'
    ]
  },
  'guojunwang': {
    advantages: [
      'çœŸè¯šå¦ç‡ï¼šä¸è™šä¼ªï¼Œè®©äººæ„Ÿåˆ°å¯ä¿¡èµ–',
      'çƒ­æƒ…æ´‹æº¢ï¼šå¯¹ç”Ÿæ´»å……æ»¡æ¿€æƒ…ï¼Œå¯Œæœ‰æ„ŸæŸ“åŠ›',
      'ç‹¬ç«‹æ€è€ƒï¼šä¸ç›²ä»æƒå¨ï¼Œæœ‰è‡ªå·±çš„ä»·å€¼åˆ¤æ–­'
    ],
    risks: [
      'ç†æƒ³ä¸»ä¹‰ï¼šå¯èƒ½å¿½è§†ç°å®çš„å¤æ‚æ€§å’Œæ®‹é…·æ€§',
      'å†²åŠ¨å†³ç­–ï¼šæƒ…æ„Ÿä¸»å¯¼å¯èƒ½å¯¼è‡´ä¸ç†æ™ºçš„é€‰æ‹©',
      'æƒ…æ„Ÿå—ä¼¤ï¼šçœŸè¯šçš„ä»˜å‡ºå¯èƒ½é­é‡èƒŒå›å’Œåˆ©ç”¨'
    ]
  },
  'wentaiyi': {
    advantages: [
      'åŒç†å¿ƒå¼ºï¼šèƒ½å¤Ÿæ·±åˆ»ç†è§£ä»–äººçš„ç—›è‹¦',
      'ç†æ€§æ¸©å’Œï¼šæƒ…æ„Ÿä¸ç†æ™ºçš„å®Œç¾å¹³è¡¡',
      'å®½å®¹åŒ…å®¹ï¼šä¸è½»æ˜“è¯„åˆ¤ä»–äººï¼Œæ„¿æ„ç†è§£ä¸åŒç«‹åœº'
    ],
    risks: [
      'è¿‡åº¦ä»˜å‡ºï¼šä¸ºä»–äººæ‰¿æ‹…è¿‡å¤šæƒ…ç»ªè´Ÿæ‹…',
      'å›é¿å†²çªï¼šå’Œå¹³ä¸»ä¹‰å¯èƒ½è®©ä½ é€ƒé¿å¿…è¦çš„å¯¹æŠ—',
      'è‡ªæˆ‘å¿½è§†ï¼šç…§é¡¾ä»–äººæ—¶å¿½ç•¥è‡ªå·±çš„éœ€æ±‚'
    ]
  },
  'emperor': {
    advantages: [
      'æˆ˜ç•¥çœ¼å…‰ï¼šèƒ½å¤Ÿçœ‹åˆ°ä»–äººçœ‹ä¸åˆ°çš„å¤§å±€å’Œè¶‹åŠ¿',
      'å†³æ–­åŠ›å¼ºï¼šå…³é”®æ—¶åˆ»èƒ½å¤Ÿæœæ–­åšå‡ºå†³å®š',
      'ç»Ÿç­¹èƒ½åŠ›ï¼šå–„äºåè°ƒå„æ–¹èµ„æºï¼Œå®ç°ç›®æ ‡'
    ],
    risks: [
      'æƒåŠ›æ¬²æœ›ï¼šå¯¹æ§åˆ¶çš„éœ€æ±‚å¯èƒ½å˜æˆå‹è¿«',
      'æƒ…æ„Ÿæ·¡æ¼ ï¼šè¿‡åº¦ç†æ€§å¯èƒ½å¿½è§†äººæ€§åŒ–å…³æ€€',
      'å­¤ç‹¬æ„Ÿï¼šé«˜å¤„ä¸èƒœå¯’ï¼Œéš¾ä»¥å»ºç«‹å¹³ç­‰å…³ç³»'
    ]
  },
  'ningguiren': {
    advantages: [
      'è€å¿ƒåè¶³ï¼šèƒ½å¤Ÿé•¿æœŸæ½œä¼ï¼Œç­‰å¾…æœ€ä½³æ—¶æœº',
      'æ´å¯ŸåŠ›å¼ºï¼šå–„äºè§‚å¯Ÿå’Œåˆ†æå¤æ‚å±€åŠ¿',
      'ç­–ç•¥æ€ç»´ï¼šå–„äºåˆ¶å®šé•¿æœŸè®¡åˆ’å¹¶åšæŒæ‰§è¡Œ'
    ],
    risks: [
      'è¿‡åº¦è°¨æ…ï¼šå¯èƒ½é”™å¤±éœ€è¦æœæ–­è¡ŒåŠ¨çš„æœºä¼š',
      'æƒ…æ„Ÿå‹æŠ‘ï¼šé•¿æœŸéšè—çœŸå®æƒ³æ³•å¯èƒ½å¯¼è‡´å¿ƒç†è´Ÿæ‹…',
      'ä¿¡ä»»ç¼ºå¤±ï¼šé˜²å¤‡å¿ƒè¿‡é‡å¯èƒ½éš¾ä»¥å»ºç«‹æ·±å±‚å…³ç³»'
    ]
  }
} as const;

// è·å–è§’è‰²å›¾ç‰‡è·¯å¾„çš„è¾…åŠ©å‡½æ•°
export function getCharacterImagePath(characterId: string): string {
  const fileName = CHARACTER_IMAGE_MAP[characterId];
  if (!fileName) {
    console.warn(`No image found for character: ${characterId}`);
    return '/characters/placeholder.svg';
  }
  return `/zhz/${fileName}`;
}

// è·å–è§’è‰²æ ¸å¿ƒç‰¹è´¨çš„è¾…åŠ©å‡½æ•°
export function getCharacterCoreTrait(characterId: string): string {
  return CHARACTER_CORE_TRAITS[characterId] || '';
}

// è·å–è§’è‰²subtitleçš„è¾…åŠ©å‡½æ•°
export function getCharacterSubtitle(characterId: string): string {
  const character = CHARACTER_PROFILES[characterId as keyof typeof CHARACTER_PROFILES];
  return character?.subtitle || '';
}

// è·å–è§’è‰²emojiçš„è¾…åŠ©å‡½æ•°
export function getCharacterEmoji(characterId: string): string {
  const character = CHARACTER_PROFILES[characterId as keyof typeof CHARACTER_PROFILES];
  return character?.emoji || '';
}

// è·å–è§’è‰²è¯¦ç»†ç‰¹è´¨çš„è¾…åŠ©å‡½æ•°
export function getCharacterDetailedTraits(characterId: string): { advantages: string[]; risks: string[] } | null {
  return CHARACTER_DETAILED_TRAITS[characterId] || null;
}

export const zhz: QuizTemplate = {
  id: 'zhz',
  title: 'ç”„å¬›ä¼ äººæ ¼æµ‹è¯„',
  titleEn: 'The Legend of Zhen Huan Personality Assessment',
  description: 'ä»¥ã€Šç”„å¬›ä¼ ã€‹12ä½æ ¸å¿ƒäººç‰©ä¸ºåŸå‹ï¼Œæµ‹è¯•ä½ æœ€åƒè°',
  category: 'è¶£å‘³æµ‹è¯„',
  purpose: 'é€šè¿‡30é“é¢˜ç›®ï¼ˆ24é“æƒ…æ™¯é€‰æ‹©é¢˜ + 6é“äººæ ¼é”šç‚¹é¢˜ï¼‰ï¼Œä»æƒ…ç»ªæ•æ„Ÿæ€§ã€æ€ç»´æ¨¡å¼ã€ç¤¾äº¤èƒ½é‡ã€ä»·å€¼å–å‘ã€é‡å¿ƒæŒ‡æ•°ã€è‡ªæˆ‘è¡¨è¾¾ç­‰6ä¸ªç»´åº¦ï¼Œåˆ¤æ–­ä½ æœ€æ¥è¿‘å“ªç§"å®«å»·äººæ ¼"',
  duration: '8-10åˆ†é’Ÿ',
  questionCount: 30,

  dimensions: [
    {
      id: 'sensitivity',
      name: ZHZ_DIMENSIONS.sensitivity,
      description: 'å¯¹æƒ…ç»ªåˆºæ¿€çš„ååº”å¼ºåº¦ï¼ˆä½=ç¨³å®šå†·é™ â†” é«˜=æ•æ„Ÿè„†å¼±ï¼‰',
      questionIds: [] // ZHZä½¿ç”¨è‡ªå®šä¹‰è®¡ç®—ï¼Œä¸éœ€è¦questionIds
    },
    {
      id: 'rationality',
      name: ZHZ_DIMENSIONS.rationality,
      description: 'å†³ç­–æ–¹å¼ï¼ˆä½=ç›´è§‰å†²åŠ¨ â†” é«˜=ç†æ€§è°‹åˆ’ï¼‰',
      questionIds: []
    },
    {
      id: 'sociability',
      name: ZHZ_DIMENSIONS.sociability,
      description: 'ç¤¾äº¤è¡Œä¸ºå€¾å‘ï¼ˆä½=å†…å‘æ²‰é™ â†” é«˜=å¤–å‘å¼ æ‰¬ï¼‰',
      questionIds: []
    },
    {
      id: 'idealism',
      name: ZHZ_DIMENSIONS.idealism,
      description: 'ä»·å€¼æƒè¡¡å€¾å‘ï¼ˆä½=å®ç”¨ä¸»ä¹‰ â†” é«˜=ç†æƒ³ä¸»ä¹‰ï¼‰',
      questionIds: []
    },
    {
      id: 'ambition',
      name: ZHZ_DIMENSIONS.ambition,
      description: 'æˆåŠŸè¿½æ±‚ç¨‹åº¦ï¼ˆä½=éšé‡è€Œå®‰ â†” é«˜=è¿›å–å¿ƒå¼ºï¼‰',
      questionIds: []
    },
    {
      id: 'authenticity',
      name: ZHZ_DIMENSIONS.authenticity,
      description: 'çœŸå®è‡ªæˆ‘å±•éœ²ï¼ˆä½=æˆ˜ç•¥æ©é¥° â†” é«˜=çœŸå®å¦ç‡ï¼‰',
      questionIds: []
    }
  ],

  questions: [
    // ========== ç¬¬ä¸€ç»„ï¼šæƒ…ç»ªä¸å†²çªå¤„ç† ==========

    // Q1 - å†²çªå¤„ç†ï¼ˆä¸»æµ‹ï¼šæ€ç»´æ¨¡å¼ã€ç¤¾äº¤èƒ½é‡ï¼‰
    {
      id: 'zhz_q1',
      type: 'scale',
      question: 'å›¢é˜Ÿå¼€ä¼šåµç¿»å¤©ï¼Œä½ çš„åšæ³•æ˜¯ï¼ŸğŸ’¼',
      dimension: 'conflict_handling',
      options: [
        { value: 1, label: 'å½“å’Œäº‹ä½¬ï¼Œè®©æ¯ä¸ªäººéƒ½æ„Ÿè§‰è¢«ç†è§£', scores: {"sensitivity":0.18,"idealism":0.15} },
        { value: 2, label: 'å…ˆè§‚å¯Ÿå±€åŠ¿ï¼Œæ‰¾å‡†å…³é”®çŸ›ç›¾å†è¡ŒåŠ¨', scores: {"rationality":0.22,"ambition":0.12} },
        { value: 3, label: 'æœ‰è¯ç›´è¯´ï¼Œæœ€çƒ¦æ‹å¼¯æŠ¹è§’ï¼', scores: {"sociability":0.22,"authenticity":0.18} },
        { value: 4, label: 'è¡¨é¢ä¿æŒä¸­ç«‹ï¼Œæš—ä¸­æ¨åŠ¨è‡ªå·±çš„æ–¹æ¡ˆ', scores: {"rationality":0.24,"ambition":0.18,"authenticity":-0.14} },
        { value: 5, label: 'çœ‹æˆå°±å¥½ï¼Œæœ€åå¬é¢†å¯¼çš„', scores: {"ambition":-0.15,"sensitivity":-0.10} },
      ],
      required: true,
    },

    // Q2 - ç«äº‰åº”å¯¹ï¼ˆä¸»æµ‹ï¼šæ€ç»´æ¨¡å¼ã€é‡å¿ƒæŒ‡æ•°ï¼‰
    {
      id: 'zhz_q2',
      type: 'scale',
      question: 'æœ‰äººå…¬å¼€æŒ‘è¡…ä½ ï¼Œä½ ä¼šï¼ŸğŸ”¥',
      dimension: 'competition_response',
      options: [
        { value: 1, label: 'è¡¨é¢ä¸åŠ¨å£°è‰²ï¼Œç§ä¸‹ç•™æ„TAçš„ä¸€ä¸¾ä¸€åŠ¨', scores: {"rationality":0.22,"ambition":0.16,"authenticity":-0.12} },
        { value: 2, label: 'å½“åœºåˆšå›å»ï¼Œè°æ€•è°ï¼Ÿ', scores: {"sociability":0.22,"authenticity":0.18} },
        { value: 3, label: 'å¿ä½ï¼Œç”¨æˆç»©ç‹ ç‹ æ‰“è„¸TA', scores: {"sensitivity":0.15,"ambition":0.12} },
        { value: 4, label: 'å¾®ç¬‘åº”å¯¹ï¼Œä½†å·²ç»å¼€å§‹å¸ƒå±€åå‡»äº†', scores: {"rationality":0.22,"ambition":0.18,"authenticity":-0.10} },
        { value: 5, label: 'éšTAå»å§ï¼Œä¸å€¼å¾—æˆ‘æµªè´¹æ—¶é—´', scores: {"ambition":-0.16,"sensitivity":-0.12} },
      ],
      required: true,
    },

    // Q3 - æ‹çˆ±ä»·å€¼è§‚ï¼ˆä¸»æµ‹ï¼šä»·å€¼å–å‘ã€è‡ªæˆ‘è¡¨è¾¾ï¼‰
    {
      id: 'zhz_q3',
      type: 'scale',
      question: 'â¤ï¸ æ‹çˆ±ä¸­ï¼Œä½ æœ€æƒ³è¦çš„æ˜¯ä»€ä¹ˆï¼Ÿ',
      dimension: 'love_values',
      options: [
        { value: 1, label: 'çœŸè¯šç›¸å¾…ï¼Œå½¼æ­¤ä¿¡ä»»çš„å®‰å…¨æ„Ÿ', scores: {"idealism":0.22,"authenticity":0.15} },
        { value: 2, label: 'ç›¸äº’å°Šé‡ï¼Œè°ä¹Ÿåˆ«è¶Šç•Œ', scores: {"sensitivity":-0.10,"idealism":0.12} },
        { value: 3, label: 'å¼ºçƒˆçš„å æœ‰æ¬²å’Œçƒ­çƒˆçš„çˆ±', scores: {"sociability":0.20,"sensitivity":0.15} },
        { value: 4, label: 'çµé­‚å¥‘åˆï¼Œè¯—ä¸è¿œæ–¹çš„æµªæ¼«', scores: {"idealism":0.25} },
        { value: 5, label: 'è¢«çœ‹è§ã€è¢«çæƒœã€è¢«éœ€è¦çš„æ„Ÿè§‰', scores: {"sensitivity":0.22} },
      ],
      required: true,
    },

    // é”šç‚¹é¢˜1 - æƒ…ç»ªæ•æ„Ÿæ€§
    {
      id: 'zhz_anchor_sensitivity',
      type: 'likert',
      question: 'ğŸ’­ æˆ‘ç»å¸¸ä¼šå› ä¸ºä»–äººçš„è¯„ä»·æˆ–æ€åº¦è€Œæ„Ÿåˆ°ç„¦è™‘ä¸å®‰',
      dimension: 'sensitivity',
      options: [
        { value: 1, label: 'éå¸¸ä¸ç¬¦åˆ' },
        { value: 2, label: 'æ¯”è¾ƒä¸ç¬¦åˆ' },
        { value: 3, label: 'ä¸ç¡®å®š' },
        { value: 4, label: 'æ¯”è¾ƒç¬¦åˆ' },
        { value: 5, label: 'éå¸¸ç¬¦åˆ' },
      ],
      required: true,
    },

    // Q4 - è¯¯è§£å¤„ç†ï¼ˆä¸»æµ‹ï¼šè‡ªæˆ‘è¡¨è¾¾ã€æ€ç»´æ¨¡å¼ï¼‰
    {
      id: 'zhz_q4',
      type: 'scale',
      question: 'è¢«äººè¯¯ä¼šå†¤æ‰äº†ï¼Œä½ ä¼šï¼ŸğŸ˜¤',
      dimension: 'misunderstanding_handling',
      options: [
        { value: 1, label: 'å½“é¢è§£é‡Šæ¸…æ¥šï¼Œç»ä¸å«ç³Šï¼', scores: {"sociability":0.20,"authenticity":0.16} },
        { value: 2, label: 'ä¿æŒæ²‰é»˜ï¼Œæ¸…è€…è‡ªæ¸…', scores: {"sensitivity":-0.12,"idealism":0.12} },
        { value: 3, label: 'å…ˆæ”¶é›†è¯æ®ï¼Œç„¶åä¸€æ¬¡æ€§ç¿»ç›˜', scores: {"rationality":0.22,"ambition":0.14} },
        { value: 4, label: 'è¡¨é¢ä¸è¯´ï¼Œä½†ä¼šä¸€è¾ˆå­è®°åœ¨å¿ƒé‡Œ', scores: {"sensitivity":0.22} },
        { value: 5, label: 'åŠè‡ªå·±æ”¾ä¸‹ï¼Œæ—¶é—´ä¼šè¯æ˜ä¸€åˆ‡', scores: {"sensitivity":-0.10,"idealism":0.14} },
      ],
      required: true,
    },

    // Q5 - æµªæ¼«è¡¨è¾¾ï¼ˆä¸»æµ‹ï¼šç¤¾äº¤èƒ½é‡ã€è‡ªæˆ‘è¡¨è¾¾ï¼‰
    {
      id: 'zhz_q5',
      type: 'scale',
      question: 'ğŸ’˜ é¢å¯¹å¿ƒåŠ¨çš„äººï¼Œä½ ä¼šï¼Ÿ',
      dimension: 'romantic_approach',
      options: [
        { value: 1, label: 'ä¸»åŠ¨åˆ¶é€ æµªæ¼«æƒŠå–œï¼Œè®©TAæ„Ÿå—åˆ°æˆ‘çš„å¿ƒæ„', scores: {"sociability":0.20,"idealism":0.16} },
        { value: 2, label: 'å·å·è§‚å¯Ÿï¼Œä¸æ•¢ä¸»åŠ¨è¡¨ç™½', scores: {"sensitivity":0.20,"sociability":-0.16} },
        { value: 3, label: 'å°å¿ƒè¯•æ¢ï¼Œç¡®è®¤TAå¯¹æˆ‘ä¹Ÿæœ‰æ„æ€', scores: {"sensitivity":0.15,"rationality":0.12} },
        { value: 4, label: 'ç›´æ¥å¼€é—¨è§å±±ï¼Œå–œæ¬¢å°±è¯´ï¼', scores: {"sociability":0.22,"authenticity":0.18} },
        { value: 5, label: 'é¡ºå…¶è‡ªç„¶å§ï¼Œæ˜¯ä½ çš„è·‘ä¸æ‰', scores: {"ambition":-0.14,"sensitivity":-0.10} },
      ],
      required: true,
    },

    // Q6 - é”™è¯¯å¤„ç†ï¼ˆä¸»æµ‹ï¼šè‡ªæˆ‘è¡¨è¾¾ã€æ€ç»´æ¨¡å¼ï¼‰
    {
      id: 'zhz_q6',
      type: 'scale',
      question: 'å·¥ä½œå‡ºäº†å¤§å·®é”™ï¼Œä½ ä¼šï¼ŸğŸ˜°',
      dimension: 'mistake_handling',
      options: [
        { value: 1, label: 'ç«‹åˆ»æ‰¾åŸå› ï¼Œä¸»åŠ¨æ‰¿æ‹…è´£ä»»', scores: {"sensitivity":-0.10,"authenticity":0.14} },
        { value: 2, label: 'æƒ³åŠæ³•è¡¥æ•‘ï¼Œå°½é‡åˆ«è®©é¢†å¯¼å‘ç°', scores: {"rationality":0.18,"authenticity":-0.10} },
        { value: 3, label: 'å…ˆå®‰æŠšå›¢é˜Ÿæƒ…ç»ªï¼Œå†ä¸€èµ·æƒ³åŠæ³•', scores: {"sensitivity":0.18,"idealism":0.14} },
        { value: 4, label: 'åˆ†ææ˜¯è°çš„é”…ï¼Œæƒ³åŠæ³•è®©åˆ«äººèƒŒ', scores: {"rationality":0.22,"ambition":0.16,"authenticity":-0.18} },
        { value: 5, label: 'å†·é™å¤ç›˜ï¼Œå¸å–æ•™è®­ä¸‹æ¬¡æ”¹è¿›', scores: {"sensitivity":-0.12,"rationality":0.14} },
      ],
      required: true,
    },

    // Q7 - èƒŒå›ååº”ï¼ˆä¸»æµ‹ï¼šæƒ…ç»ªæ•æ„Ÿæ€§ã€è‡ªæˆ‘è¡¨è¾¾ï¼‰
    {
      id: 'zhz_q7',
      type: 'scale',
      question: 'é—ºèœœ/å…„å¼ŸèƒŒå›äº†ä½ ï¼Œä½ ä¼šï¼ŸğŸ’”',
      dimension: 'betrayal_response',
      options: [
        { value: 1, label: 'è¡¨é¢åŸè°…ï¼Œä½†ä»æ­¤ä¿æŒè·ç¦»', scores: {"rationality":0.18,"authenticity":-0.14} },
        { value: 2, label: 'å†·å¤„ç†ï¼Œä¸æ’•ç ´è„¸ä½†ä¹Ÿä¸å†æ¥å¾€', scores: {"sensitivity":-0.12,"rationality":0.14} },
        { value: 3, label: 'æ¨ä¸€è¾ˆå­ï¼å“ªæ€•ä¸æŠ¥å¤ä¹Ÿå¿˜ä¸äº†', scores: {"sensitivity":0.22} },
        { value: 4, label: 'å½“ä¼—æ’•ç ´è„¸ï¼Œè®©æ‰€æœ‰äººéƒ½çŸ¥é“TAæ˜¯ä»€ä¹ˆäºº', scores: {"sociability":0.20,"authenticity":0.18} },
        { value: 5, label: 'è¯•ç€ç†è§£TAçš„è‹¦è¡·å’Œéš¾å¤„', scores: {"sensitivity":0.14,"idealism":0.18} },
      ],
      required: true,
    },

    // é”šç‚¹é¢˜2 - æ€ç»´æ¨¡å¼
    {
      id: 'zhz_anchor_rationality',
      type: 'likert',
      question: 'ğŸ§  åœ¨åšé‡è¦å†³å®šå‰ï¼Œæˆ‘ä¹ æƒ¯æ·±æ€ç†Ÿè™‘å¹¶æƒè¡¡å„ç§å¯èƒ½æ€§',
      dimension: 'rationality',
      options: [
        { value: 1, label: 'éå¸¸ä¸ç¬¦åˆ' },
        { value: 2, label: 'æ¯”è¾ƒä¸ç¬¦åˆ' },
        { value: 3, label: 'ä¸ç¡®å®š' },
        { value: 4, label: 'æ¯”è¾ƒç¬¦åˆ' },
        { value: 5, label: 'éå¸¸ç¬¦åˆ' },
      ],
      required: true,
    },

    // ========== ç¬¬äºŒç»„ï¼šç¤¾äº¤ä¸ä»·å€¼è§‚ ==========

    // Q8 - ç¤¾äº¤åå¥½ï¼ˆä¸»æµ‹ï¼šç¤¾äº¤èƒ½é‡ã€ä»·å€¼å–å‘ï¼‰
    {
      id: 'zhz_q8',
      type: 'scale',
      question: 'ğŸ­ ç†æƒ³çš„ç¤¾äº¤çŠ¶æ€æ˜¯ï¼Ÿ',
      dimension: 'social_preference',
      options: [
        { value: 1, label: 'çƒ­é—¹èšä¼šçš„ä¸­å¿ƒï¼Œä¸‡ä¼—ç©ç›®çš„æ„Ÿè§‰çœŸå¥½ï¼', scores: {"sociability":0.25} },
        { value: 2, label: 'å°åœˆå­æ·±åº¦äº¤æµï¼Œä¸‰äº”çŸ¥å·±è¶³çŸ£', scores: {"sensitivity":0.12,"idealism":0.16} },
        { value: 3, label: 'ç²¾å‡†ç¤¾äº¤ï¼Œåªå’Œå¯¹æˆ‘æœ‰å¸®åŠ©çš„äººå»ºç«‹å…³ç³»', scores: {"rationality":0.22,"ambition":0.16,"authenticity":-0.14} },
        { value: 4, label: 'æ‰¾åˆ°çµé­‚ä¼´ä¾£ï¼Œä¸€èµ·èŠç†æƒ³èŠäººç”Ÿ', scores: {"idealism":0.22} },
        { value: 5, label: 'æœ€å¥½ä¸ç”¨ç¤¾äº¤ï¼Œè‡ªå·±å¾…ç€æœ€èˆ’æœ', scores: {"sociability":-0.18,"ambition":-0.12} },
      ],
      required: true,
    },

    // Q9 - è¯±æƒ‘å¤„ç†ï¼ˆä¸»æµ‹ï¼šä»·å€¼å–å‘ã€é‡å¿ƒæŒ‡æ•°ï¼‰
    {
      id: 'zhz_q9',
      type: 'scale',
      question: 'é¢å¯¹å·¨å¤§è¯±æƒ‘æ—¶ï¼Œä½ æ›´å¯èƒ½ï¼ŸğŸ',
      dimension: 'temptation_handling',
      options: [
        { value: 1, label: 'ä¸ç¬¦åˆæˆ‘çš„åŸåˆ™ï¼Œç›´æ¥æ‹’ç»ï¼', scores: {"sensitivity":-0.12,"idealism":0.18} },
        { value: 2, label: 'å†…å¿ƒæŒ£æ‰ä½†æœ€ç»ˆå…‹åˆ¶ä½', scores: {"sensitivity":0.15,"idealism":0.16} },
        { value: 3, label: 'æœºä¼šéš¾å¾—ï¼Œå…ˆæŠ“ä½å†è¯´', scores: {"ambition":0.22,"idealism":-0.10} },
        { value: 4, label: 'è¡¨é¢æ¨è¾ï¼Œæš—ä¸­æƒ³åŠæ³•åˆ©ç”¨è¿™ä¸ªæœºä¼š', scores: {"rationality":0.22,"ambition":0.16,"authenticity":-0.16} },
        { value: 5, label: 'æƒ…æ„Ÿå†²æ˜å¤´è„‘ï¼Œé¡¾ä¸äº†é‚£ä¹ˆå¤šäº†', scores: {"sensitivity":0.22,"rationality":-0.14} },
      ],
      required: true,
    },

    // Q10 - åŠŸåŠ³è¢«æŠ¢ï¼ˆä¸»æµ‹ï¼šé‡å¿ƒæŒ‡æ•°ã€è‡ªæˆ‘è¡¨è¾¾ï¼‰
    {
      id: 'zhz_q10',
      type: 'scale',
      question: 'æœ‰äººæŠ¢èµ°äº†ä½ çš„åŠŸåŠ³ï¼ŸğŸ˜ ',
      dimension: 'credit_stealing',
      options: [
        { value: 1, label: 'å½“åœºæ®ç†åŠ›äº‰ï¼Œå¿…é¡»è¦ä¸ªè¯´æ³•ï¼', scores: {"sociability":0.20,"authenticity":0.16} },
        { value: 2, label: 'ç®—äº†ï¼Œä¸æƒ³æµªè´¹ç²¾åŠ›åœ¨è¿™ç§äººèº«ä¸Š', scores: {"ambition":-0.16,"sensitivity":-0.10} },
        { value: 3, label: 'è®°ä¸‹è¿™ç¬”è´¦ï¼Œæ‰¾æœºä¼šæ‰³å›æ¥', scores: {"rationality":0.22,"ambition":0.16} },
        { value: 4, label: 'è¡¨é¢ç¥è´ºTAï¼Œæš—ä¸­è®©TAä»˜å‡ºä»£ä»·', scores: {"rationality":0.24,"ambition":0.18,"authenticity":-0.18} },
        { value: 5, label: 'é»˜é»˜ç»§ç»­åŠªåŠ›ï¼Œç”¨å®åŠ›è¯æ˜è°æ‰æ˜¯æœ€å¼ºçš„', scores: {"sensitivity":-0.12,"ambition":0.12} },
      ],
      required: true,
    },

    // Q11 - å‹åŠ›ååº”ï¼ˆä¸»æµ‹ï¼šæƒ…ç»ªæ•æ„Ÿæ€§ã€é‡å¿ƒæŒ‡æ•°ï¼‰
    {
      id: 'zhz_q11',
      type: 'scale',
      question: 'å‹åŠ›å±±å¤§æ—¶ï¼Œä½ çš„ååº”æ˜¯ï¼ŸğŸ˜«',
      dimension: 'stress_response',
      options: [
        { value: 1, label: 'è¶ŠæŒ«è¶Šå‹‡ï¼Œåè€Œæ›´æƒ³èµ¢äº†ï¼', scores: {"ambition":0.22,"sensitivity":-0.12} },
        { value: 2, label: 'ä¼šå…ˆè‡ªæˆ‘æ€€ç–‘ï¼š"æˆ‘æ˜¯ä¸æ˜¯ä¸è¡Œï¼Ÿ"', scores: {"sensitivity":0.24} },
        { value: 3, label: 'å†·é™åˆ†æé—®é¢˜ï¼Œä¸€æ­¥æ­¥è§£å†³', scores: {"sensitivity":-0.14,"rationality":0.12} },
        { value: 4, label: 'å¤–è¡¨äº‘æ·¡é£è½»ï¼Œå†…å¿ƒæ—©å·²ç¿»æ±Ÿå€’æµ·', scores: {"sensitivity":0.18,"authenticity":-0.12} },
        { value: 5, label: 'æš´èºå‘æ³„ä¸€é€šå°±å¥½äº†', scores: {"sociability":0.18,"authenticity":0.14} },
      ],
      required: true,
    },

    // é”šç‚¹é¢˜3 - ç¤¾äº¤èƒ½é‡
    {
      id: 'zhz_anchor_sociability',
      type: 'likert',
      question: 'âœ¨ æˆ‘åœ¨å¤§å¤šæ•°ç¤¾äº¤åœºåˆéƒ½èƒ½è¡¨ç°å¾—è‡ªä¿¡å¹¶ä¸”å¤–å‘',
      dimension: 'sociability',
      options: [
        { value: 1, label: 'éå¸¸ä¸ç¬¦åˆ' },
        { value: 2, label: 'æ¯”è¾ƒä¸ç¬¦åˆ' },
        { value: 3, label: 'ä¸ç¡®å®š' },
        { value: 4, label: 'æ¯”è¾ƒç¬¦åˆ' },
        { value: 5, label: 'éå¸¸ç¬¦åˆ' },
      ],
      required: true,
    },

    // ========== ç¬¬ä¸‰ç»„ï¼šåº•çº¿ä¸ä»·å€¼ ==========

    // Q12 - é¢†å¯¼é£æ ¼ï¼ˆä¸»æµ‹ï¼šæ€ç»´æ¨¡å¼ã€ç¤¾äº¤èƒ½é‡ï¼‰
    {
      id: 'zhz_q12',
      type: 'scale',
      question: 'ğŸ’¼ å¦‚æœä½ å½“äº†é¢†å¯¼ï¼Œä½ ä¼šï¼Ÿ',
      dimension: 'leadership_style',
      options: [
        { value: 1, label: 'ä¸¥è°¨ç¨³é‡ï¼ŒæŠŠæ¯ä»¶äº‹éƒ½å®‰æ’å¾—æ˜æ˜ç™½ç™½', scores: {"rationality":0.22,"sensitivity":-0.10} },
        { value: 2, label: 'ç”¨çƒ­æƒ…æ„ŸæŸ“å¤§å®¶ï¼Œå¸¦é¢†å›¢é˜Ÿå†²å†²å†²ï¼', scores: {"sociability":0.22,"authenticity":0.14} },
        { value: 3, label: 'å¹³è¡¡å…³ç³»ï¼Œè®©æ¯ä¸ªäººéƒ½æœ‰å¥½å¤„', scores: {"rationality":0.18,"sensitivity":0.12} },
        { value: 4, label: 'å°‘è¯´å¤šçœ‹ï¼Œæš—ä¸­è§‚å¯Ÿæ¯ä¸ªäºº', scores: {"rationality":0.20,"authenticity":-0.12} },
        { value: 5, label: 'ä¸å¤ªæƒ³å½“é¢†å¯¼ï¼Œå¤ªç´¯äº†', scores: {"ambition":-0.18} },
      ],
      required: true,
    },

    // Q13 - ä»·å€¼æ ¼è¨€ï¼ˆä¸»æµ‹ï¼šä»·å€¼å–å‘ã€è‡ªæˆ‘è¡¨è¾¾ï¼‰
    {
      id: 'zhz_q13',
      type: 'scale',
      question: 'ä»¥ä¸‹å“ªå¥è¯æœ€æ‰“åŠ¨ä½ ï¼ŸğŸ’­',
      dimension: 'justice_view',
      options: [
        { value: 1, label: '"æ„¿å¾—ä¸€å¿ƒäººï¼Œç™½é¦–ä¸ç›¸ç¦»ã€‚"', scores: {"idealism":0.22,"sensitivity":0.14} },
        { value: 2, label: '"ä¸–ä¸Šæ²¡æœ‰ç»å¯¹çš„æ­£ä¹‰ï¼Œåªæœ‰ç«‹åœºä¸åŒã€‚"', scores: {"rationality":0.20,"idealism":-0.12} },
        { value: 3, label: '"å®å¯ç«™ç€æ­»ï¼Œä¸æ„¿è·ªç€ç”Ÿã€‚"', scores: {"authenticity":0.22,"sociability":0.14} },
        { value: 4, label: '"åšäººå¦‚å…°ï¼Œå¿ƒé™è€ŒèŠ³ã€‚"', scores: {"sensitivity":-0.12,"idealism":0.12} },
        { value: 5, label: '"äººç”Ÿåœ¨ä¸–ï¼Œä¸è¿‡æ±‚å¿ƒå®‰äºŒå­—ã€‚"', scores: {"sensitivity":-0.10,"idealism":0.14} },
      ],
      required: true,
    },

    // Q14 - å‡èŒååº”ï¼ˆä¸»æµ‹ï¼šé‡å¿ƒæŒ‡æ•°ã€æƒ…ç»ªæ•æ„Ÿæ€§ï¼‰
    {
      id: 'zhz_q14',
      type: 'scale',
      question: 'çªç„¶å‡èŒåŠ è–ªäº†ï¼Œä½ ä¼šï¼ŸğŸ“ˆ',
      dimension: 'promotion_reaction',
      options: [
        { value: 1, label: 'å…´å¥‹ï¼ç«‹åˆ»è§„åˆ’å¦‚ä½•åšå¾—æ›´å¥½', scores: {"ambition":0.20,"sociability":0.12} },
        { value: 2, label: 'å†·é™åˆ†æï¼šä¸ºä»€ä¹ˆæ˜¯æˆ‘ï¼ŸèƒŒåæœ‰ä»€ä¹ˆç›®çš„ï¼Ÿ', scores: {"rationality":0.22} },
        { value: 3, label: 'æ‹…å¿ƒåˆ«äººå«‰å¦’ï¼Œå°å¿ƒç¿¼ç¿¼åšäºº', scores: {"sensitivity":0.20} },
        { value: 4, label: 'åˆ¶å®šé•¿è¿œè®¡åˆ’ï¼Œå·©å›ºè‡ªå·±çš„åœ°ä½', scores: {"rationality":0.20,"ambition":0.16} },
        { value: 5, label: 'æ— æ‰€è°“ï¼Œç»§ç»­æŒ‰è‡ªå·±çš„èŠ‚å¥æ¥', scores: {"ambition":-0.14} },
      ],
      required: true,
    },

    // é”šç‚¹é¢˜4 - ä»·å€¼å–å‘
    {
      id: 'zhz_anchor_idealism',
      type: 'likert',
      question: 'â­ æˆ‘å¯¹å…³ç³»ã€ä»·å€¼è§‚å’Œç†æƒ³æœ‰ç€éå¸¸åšå®šçš„åšæŒ',
      dimension: 'idealism',
      options: [
        { value: 1, label: 'éå¸¸ä¸ç¬¦åˆ' },
        { value: 2, label: 'æ¯”è¾ƒä¸ç¬¦åˆ' },
        { value: 3, label: 'ä¸ç¡®å®š' },
        { value: 4, label: 'æ¯”è¾ƒç¬¦åˆ' },
        { value: 5, label: 'éå¸¸ç¬¦åˆ' },
      ],
      required: true,
    },

    // ========== ç¬¬å››ç»„ï¼šé€‚åº”ä¸è¿½æ±‚ ==========

    // Q15 - æ–°ç¯å¢ƒé€‚åº”ï¼ˆä¸»æµ‹ï¼šç¤¾äº¤èƒ½é‡ã€æ€ç»´æ¨¡å¼ï¼‰
    {
      id: 'zhz_q15',
      type: 'scale',
      question: 'åˆ°äº†å…¨æ–°çš„ç¯å¢ƒï¼Œä½ ä¼šï¼ŸğŸŒ',
      dimension: 'new_environment',
      options: [
        { value: 1, label: 'ä¸»åŠ¨èå…¥ï¼Œå¿«é€Ÿå’Œå¤§å®¶æ‰“æˆä¸€ç‰‡', scores: {"sociability":0.22} },
        { value: 2, label: 'å…ˆè§‚å¯Ÿæ°›å›´ï¼Œæ…¢æ…¢é€‚åº”èŠ‚å¥', scores: {"sensitivity":0.14,"rationality":0.12} },
        { value: 3, label: 'è¿…é€Ÿæ‰¾åˆ°æ ¸å¿ƒäººç‰©ï¼ŒæŒæ¡å…³é”®ä¿¡æ¯', scores: {"rationality":0.22,"ambition":0.14} },
        { value: 4, label: 'ä¸åˆ»æ„è¿åˆï¼Œä¿æŒè‡ªå·±çš„èŠ‚å¥', scores: {"authenticity":0.18,"sensitivity":-0.10} },
        { value: 5, label: 'è®©è‡ªå·±æˆä¸ºæœ‰ç”¨çš„äººï¼Œè·å¾—è®¤å¯', scores: {"ambition":0.16,"rationality":0.12} },
      ],
      required: true,
    },

    // Q16 - å¤±æ‹å¤„ç†ï¼ˆä¸»æµ‹ï¼šä»·å€¼å–å‘ã€æƒ…ç»ªæ•æ„Ÿæ€§ï¼‰
    {
      id: 'zhz_q16',
      type: 'scale',
      question: 'ğŸ’” å½“ä½ å‘ç°å–œæ¬¢çš„äººå¿ƒæœ‰æ‰€å±ï¼Ÿ',
      dimension: 'unrequited_love',
      options: [
        { value: 1, label: 'ç—›è‹¦ä½†ç¥ç¦ï¼Œçˆ±TAå°±å¸Œæœ›TAå¹¸ç¦', scores: {"idealism":0.20,"sensitivity":-0.10} },
        { value: 2, label: 'å‡è£…ä¸åœ¨æ„ï¼Œä¸€ä¸ªäººå·å·å´©æºƒ', scores: {"sensitivity":0.22,"authenticity":-0.14} },
        { value: 3, label: 'ä¸ç”˜å¿ƒï¼æˆ‘è¦åŠªåŠ›äº‰å–ï¼', scores: {"ambition":0.20,"sociability":0.14} },
        { value: 4, label: 'é»˜é»˜é€€å‡ºï¼ŒæŠŠçˆ±è—åœ¨å¿ƒåº•', scores: {"sensitivity":0.18,"idealism":0.14} },
        { value: 5, label: 'è½¬ç§»æ³¨æ„åŠ›ï¼Œé‡æ–°å¼€å§‹å°±å¥½', scores: {"sensitivity":-0.12,"rationality":0.12} },
      ],
      required: true,
    },

    // Q17 - è¶…èƒ½åŠ›æœŸæœ›ï¼ˆä¸»æµ‹ï¼šé‡å¿ƒæŒ‡æ•°ã€ä»·å€¼å–å‘ï¼‰
    {
      id: 'zhz_q17',
      type: 'scale',
      question: 'å¦‚æœä½ æœ‰è¶…èƒ½åŠ›ï¼Œä½ å¸Œæœ›æ˜¯ï¼Ÿâœ¨',
      dimension: 'desired_ability',
      options: [
        { value: 1, label: 'çœ‹é€äººå¿ƒï¼ŒæŒæ¡æ‰€æœ‰äººçš„æƒ³æ³•', scores: {"rationality":0.24,"ambition":0.16} },
        { value: 2, label: 'è®©æ‰€æœ‰äººéƒ½å–œæ¬¢æˆ‘', scores: {"sensitivity":0.22} },
        { value: 3, label: 'æ²»æ„ˆä»–äººçš„ç—›è‹¦å’Œä¼¤ç—›', scores: {"sensitivity":0.16,"idealism":0.20} },
        { value: 4, label: 'å®Œå…¨æŒæ§è‡ªå·±çš„å‘½è¿', scores: {"ambition":0.22,"rationality":0.12} },
        { value: 5, label: 'æ‹¥æœ‰æ— æ•Œçš„åŠ›é‡ï¼Œæƒ³åšä»€ä¹ˆå°±åšä»€ä¹ˆï¼', scores: {"sociability":0.20,"ambition":0.14} },
      ],
      required: true,
    },

    // Q18 - ç†æƒ³è‡ªæˆ‘ï¼ˆä¸»æµ‹ï¼šä»·å€¼å–å‘ã€è‡ªæˆ‘è¡¨è¾¾ï¼‰
    {
      id: 'zhz_q18',
      type: 'scale',
      question: 'å¦‚æœç”¨ä¸€å¥è¯å½¢å®¹ç†æƒ³çš„è‡ªå·±ï¼ŸğŸŒŸ',
      dimension: 'legacy',
      options: [
        { value: 1, label: '"çœŸè¯šå¾…äººï¼Œæ¸©æŸ”è€Œæœ‰åŠ›é‡ã€‚"', scores: {"authenticity":0.16,"idealism":0.16,"sensitivity":0.12} },
        { value: 2, label: '"æ¸©æŸ”åšå®šï¼Œå® è¾±ä¸æƒŠã€‚"', scores: {"sensitivity":-0.14,"idealism":0.12} },
        { value: 3, label: '"è¿ç­¹å¸·å¹„ï¼ŒæŒæ§è‡ªå·±çš„å‘½è¿ã€‚"', scores: {"rationality":0.22,"ambition":0.16} },
        { value: 4, label: '"å…‰èŠ’ä¸‡ä¸ˆï¼Œæ— äººèƒ½æŒ¡ã€‚"', scores: {"sociability":0.24,"ambition":0.14} },
        { value: 5, label: '"æ²»æ„ˆä»–äººï¼Œè‡ªæ¸¡æ¸¡äººã€‚"', scores: {"idealism":0.20,"sensitivity":0.16} },
      ],
      required: true,
    },

    // é”šç‚¹é¢˜5 - é‡å¿ƒæŒ‡æ•°
    {
      id: 'zhz_anchor_ambition',
      type: 'likert',
      question: 'ğŸš€ æˆ‘ä¼šä¸»åŠ¨è¿½æ±‚æ›´é«˜çš„æˆå°±ï¼Œè€Œä¸æ˜¯ç­‰å¾…æœºä¼šæ¥ä¸´',
      dimension: 'ambition',
      options: [
        { value: 1, label: 'éå¸¸ä¸ç¬¦åˆ' },
        { value: 2, label: 'æ¯”è¾ƒä¸ç¬¦åˆ' },
        { value: 3, label: 'ä¸ç¡®å®š' },
        { value: 4, label: 'æ¯”è¾ƒç¬¦åˆ' },
        { value: 5, label: 'éå¸¸ç¬¦åˆ' },
      ],
      required: true,
    },

    // ========== ç¬¬äº”ç»„ï¼šå‹æƒ…ä¸æ€åº¦ ==========

    // Q19 - å‹æƒ…è§‚ï¼ˆä¸»æµ‹ï¼šä»·å€¼å–å‘ã€è‡ªæˆ‘è¡¨è¾¾ï¼‰
    {
      id: 'zhz_q19',
      type: 'scale',
      question: 'ğŸ¤ å“ªå¥è¯æœ€ç¬¦åˆä½ çš„å‹æƒ…è§‚ï¼Ÿ',
      dimension: 'friendship_values',
      options: [
        { value: 1, label: '"çœŸå¿ƒæ¢çœŸå¿ƒï¼Œå››ä¸¤æ¢åŠæ–¤ã€‚"', scores: {"authenticity":0.16,"idealism":0.16} },
        { value: 2, label: '"æœ‹å‹æ˜¯èµ„æºï¼Œäº’ç›¸åˆ©ç”¨æ‰èƒ½å…±èµ¢ã€‚"', scores: {"rationality":0.20,"ambition":0.14,"authenticity":-0.14} },
        { value: 3, label: '"æ‚£éš¾è§çœŸæƒ…ï¼Œå²æœˆè§äººå¿ƒã€‚"', scores: {"sensitivity":-0.12,"idealism":0.12} },
        { value: 4, label: '"æ±Ÿæ¹–è·¯è¿œï¼Œæœ‰ä½ è¶³çŸ£ã€‚"', scores: {"idealism":0.22,"authenticity":0.14} },
        { value: 5, label: '"ç›¸è¯†ä¸€åœºä¾¿æ˜¯ç¼˜ï¼Œæ•£äº†ä¹Ÿæ— å¦¨ã€‚"', scores: {"sensitivity":-0.10} },
      ],
      required: true,
    },

    // Q20 - åŒé¾„äººæˆåŠŸï¼ˆä¸»æµ‹ï¼šé‡å¿ƒæŒ‡æ•°ã€æƒ…ç»ªæ•æ„Ÿæ€§ï¼‰
    {
      id: 'zhz_q20',
      type: 'scale',
      question: 'çœ‹åˆ°åŒé¾„äººæˆåŠŸï¼Œä½ çš„ç¬¬ä¸€ååº”æ˜¯ï¼ŸğŸ“Š',
      dimension: 'peer_success',
      options: [
        { value: 1, label: 'åˆ†æTAçš„æˆåŠŸè·¯å¾„ï¼Œæƒ³åŠæ³•è¶…è¶Šï¼', scores: {"rationality":0.18,"ambition":0.20} },
        { value: 2, label: 'ç¥ç¦TAï¼Œä½†æˆ‘ä¹Ÿè¦åŠ æ²¹è¿½èµ¶', scores: {"ambition":0.16,"idealism":0.12} },
        { value: 3, label: 'ç„¦è™‘ï¼Œæ‹…å¿ƒè‡ªå·±è¢«ç”©åœ¨åé¢', scores: {"sensitivity":0.22,"ambition":0.12} },
        { value: 4, label: 'æ— æ‰€è°“ï¼Œæˆ‘æœ‰è‡ªå·±çš„èŠ‚å¥', scores: {"ambition":-0.14,"sensitivity":-0.12} },
        { value: 5, label: 'çœŸå¿ƒä¸ºTAé«˜å…´ï¼Œæ›¿TAå¼€å¿ƒï¼', scores: {"sensitivity":0.14,"idealism":0.16} },
      ],
      required: true,
    },

    // Q21 - é«˜å‹æœºä¼šï¼ˆä¸»æµ‹ï¼šé‡å¿ƒæŒ‡æ•°ã€æƒ…ç»ªæ•æ„Ÿæ€§ï¼‰
    {
      id: 'zhz_q21',
      type: 'scale',
      question: 'é«˜è–ªä½†å‹åŠ›å·¨å¤§çš„æœºä¼šï¼Œä½ ä¼šï¼ŸğŸ’°',
      dimension: 'high_pressure_opportunity',
      options: [
        { value: 1, label: 'æœæ–­æ¥å—ï¼Œè¿™æ˜¯ä¸Šå‡çš„æœºä¼šï¼', scores: {"ambition":0.24,"sensitivity":-0.12} },
        { value: 2, label: 'ä»”ç»†è¯„ä¼°åˆ©å¼Šï¼Œå€¼å¾—å°±æ‹¼ä¸€æŠŠ', scores: {"rationality":0.20,"ambition":0.16} },
        { value: 3, label: 'æ‹…å¿ƒè‡ªå·±åšä¸å¥½ï¼ŒçŠ¹è±«ä¸å†³', scores: {"sensitivity":0.20,"ambition":-0.10} },
        { value: 4, label: 'æ‹’ç»ï¼Œä¸æƒ³ç‰ºç‰²ç”Ÿæ´»è´¨é‡', scores: {"ambition":-0.16,"sensitivity":-0.10} },
        { value: 5, label: 'ç®—äº†å§ï¼Œå‹åŠ›å¤ªå¤§ä¸å€¼å¾—', scores: {"ambition":-0.20} },
      ],
      required: true,
    },

    // Q22 - ç¤¾äº¤åª’ä½“çœŸå®æ€§ï¼ˆä¸»æµ‹ï¼šè‡ªæˆ‘è¡¨è¾¾ï¼‰
    {
      id: 'zhz_q22',
      type: 'scale',
      question: 'ğŸ“± æœ‹å‹åœˆå’ŒçœŸå®ç”Ÿæ´»ï¼Œä½ çš„çŠ¶æ€æ˜¯ï¼Ÿ',
      dimension: 'social_media_authenticity',
      options: [
        { value: 1, label: 'åŸºæœ¬ä¸€è‡´ï¼Œæˆ‘ä¸å–œæ¬¢è£…ï¼', scores: {"authenticity":0.24} },
        { value: 2, label: 'å±•ç¤ºç§¯æé¢ï¼Œä½†ä¸åˆ»æ„ç¾åŒ–', scores: {"authenticity":0.16,"sociability":0.12} },
        { value: 3, label: 'åŸºæœ¬ä¸å‘ï¼Œè§‰å¾—æ²¡å¿…è¦æ™’', scores: {"sociability":-0.12,"authenticity":0.10} },
        { value: 4, label: 'éå¸¸ç”¨å¿ƒç»è¥ï¼Œå±•ç¤ºæœ€å¥½çš„è‡ªå·±', scores: {"rationality":0.16,"authenticity":-0.12} },
        { value: 5, label: 'ç²¾å¿ƒæ‰“é€ äººè®¾ï¼Œæœ‹å‹åœˆâ‰ çœŸå®ç”Ÿæ´»', scores: {"rationality":0.20,"authenticity":-0.18} },
      ],
      required: true,
    },

    // ========== ç¬¬å…­ç»„ï¼šçœŸå®æ€§ä¸è‡ªæˆ‘è¡¨è¾¾ ==========

    // Q23 - æƒ…ç»ªæŠ«éœ²ï¼ˆä¸»æµ‹ï¼šè‡ªæˆ‘è¡¨è¾¾ã€æƒ…ç»ªæ•æ„Ÿæ€§ï¼‰
    {
      id: 'zhz_q23',
      type: 'scale',
      question: 'åˆ«äººé—®ä½ "è¿‡å¾—å¥½å—"ï¼Œä½ é€šå¸¸ï¼ŸğŸ—£ï¸',
      dimension: 'emotional_disclosure',
      options: [
        { value: 1, label: 'å®è¯å®è¯´ï¼Œå¥½å°±æ˜¯å¥½ï¼Œä¸å¥½å°±æ˜¯ä¸å¥½', scores: {"authenticity":0.24} },
        { value: 2, label: 'çœ‹å…³ç³»è¿œè¿‘ï¼Œäº²è¿‘çš„æ‰è¯´çœŸè¯', scores: {"authenticity":0.14,"sensitivity":0.12} },
        { value: 3, label: 'æ€»è¯´"è¿˜å¥½"ï¼Œä¸æƒ³æš´éœ²çœŸå®çŠ¶æ€', scores: {"rationality":0.14,"authenticity":-0.12} },
        { value: 4, label: 'æ°¸è¿œè¯´"å¾ˆå¥½"ï¼Œä¸è®©äººçœ‹åˆ°æˆ‘çš„è„†å¼±', scores: {"rationality":0.16,"authenticity":-0.16} },
        { value: 5, label: 'è¡¨é¢äº‘æ·¡é£è½»ï¼Œå†…å¿ƒæ—©å·²åƒç–®ç™¾å­”', scores: {"sensitivity":0.20,"authenticity":-0.14} },
      ],
      required: true,
    },

    // Q24 - èŒåœºçœŸå®æ€§ï¼ˆä¸»æµ‹ï¼šè‡ªæˆ‘è¡¨è¾¾ã€æ€ç»´æ¨¡å¼ï¼‰
    {
      id: 'zhz_q24',
      type: 'scale',
      question: 'ğŸ’¼ èŒåœºä¸­ï¼Œä½ æ›´å€¾å‘äºï¼Ÿ',
      dimension: 'workplace_authenticity',
      options: [
        { value: 1, label: 'åšçœŸå®çš„è‡ªå·±ï¼Œä¸åˆé€‚å°±æ¢å·¥ä½œ', scores: {"authenticity":0.24} },
        { value: 2, label: 'ä¿ç•™åº•çº¿ï¼Œå…¶ä»–å¯ä»¥é€‚å½“è°ƒæ•´', scores: {"authenticity":0.14,"sensitivity":-0.10} },
        { value: 3, label: 'æœ‰ç­–ç•¥åœ°å±•ç¤ºä¸åŒé¢ï¼Œé€‚åº”ç¯å¢ƒ', scores: {"rationality":0.20,"authenticity":-0.10} },
        { value: 4, label: 'éå¸¸åœ¨æ„èŒä¸šå½¢è±¡ç®¡ç†ï¼Œæ‰“é€ å®Œç¾äººè®¾', scores: {"rationality":0.22,"authenticity":-0.16} },
        { value: 5, label: 'æ‰®æ¼”åˆ«äººæœŸå¾…çš„è§’è‰²ï¼Œéšè—çœŸå®æƒ³æ³•', scores: {"rationality":0.18,"authenticity":-0.20} },
      ],
      required: true,
    },

    // é”šç‚¹é¢˜6 - è‡ªæˆ‘è¡¨è¾¾
    {
      id: 'zhz_anchor_authenticity',
      type: 'likert',
      question: 'ğŸ’ åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘æ›´æ„¿æ„çœŸå®è¡¨è¾¾è‡ªå·±è€Œä¸æ˜¯è¿åˆä»–äººæœŸå¾…',
      dimension: 'authenticity',
      options: [
        { value: 1, label: 'éå¸¸ä¸ç¬¦åˆ' },
        { value: 2, label: 'æ¯”è¾ƒä¸ç¬¦åˆ' },
        { value: 3, label: 'ä¸ç¡®å®š' },
        { value: 4, label: 'æ¯”è¾ƒç¬¦åˆ' },
        { value: 5, label: 'éå¸¸ç¬¦åˆ' },
      ],
      required: true,
    },
  ],
};

/**
 * è®¡ç®—æ¯ä¸ªç»´åº¦çš„ç†è®ºæœ€å¤§å’Œæœ€å°å¾—åˆ†
 * éå†æ‰€æœ‰é¢˜ç›®ï¼Œåˆ†åˆ«è®¡ç®—ï¼š
 * - æœ€å¤§å¾—åˆ†ï¼šæ¯é¢˜é€‰æ‹©è¯¥ç»´åº¦çš„æœ€å¤§å¢é‡ï¼ˆåŒ…æ‹¬æ­£åˆ†ï¼‰
 * - æœ€å°å¾—åˆ†ï¼šæ¯é¢˜é€‰æ‹©è¯¥ç»´åº¦çš„æœ€å°å¢é‡ï¼ˆåŒ…æ‹¬è´Ÿåˆ†ï¼‰
 */
function calculateDimensionScoreRanges() {
  const dimensions = ['sensitivity', 'rationality', 'sociability', 'idealism', 'ambition', 'authenticity'] as const;
  type DimensionKey = typeof dimensions[number];

  const minScores: Record<DimensionKey, number> = {
    sensitivity: 0,
    rationality: 0,
    sociability: 0,
    idealism: 0,
    ambition: 0,
    authenticity: 0,
  };

  const maxScores: Record<DimensionKey, number> = {
    sensitivity: 0,
    rationality: 0,
    sociability: 0,
    idealism: 0,
    ambition: 0,
    authenticity: 0,
  };

  zhz.questions.forEach((question) => {
    // å¯¹æ¯ä¸ªç»´åº¦ï¼Œæ‰¾åˆ°è¯¥é¢˜ä¸­çš„æœ€å¤§å’Œæœ€å°å¢é‡
    dimensions.forEach((dim) => {
      let maxIncrementForDim = 0;
      let minIncrementForDim = 0;

      question.options.forEach((option) => {
        if ('scores' in option) {
          const scores = option.scores as Record<string, number>;
          const increment = scores[dim] || 0;
          maxIncrementForDim = Math.max(maxIncrementForDim, increment);
          minIncrementForDim = Math.min(minIncrementForDim, increment);
        }
      });

      maxScores[dim] += maxIncrementForDim;
      minScores[dim] += minIncrementForDim;
    });
  });

  return { minScores, maxScores };
}

/**
 * ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—
 * similarity = (u Â· r) / (||u|| * ||r||)
 *
 * @param vec1 ç”¨æˆ·å‘é‡
 * @param vec2 è§’è‰²å‘é‡
 * @returns ç›¸ä¼¼åº¦ [0, 1]
 */
function cosineSimilarity(
  vec1: Record<string, number>,
  vec2: Record<string, number>
): number {
  const keys = Object.keys(vec1);

  // è®¡ç®—ç‚¹ç§¯
  let dotProduct = 0;
  keys.forEach((key) => {
    dotProduct += vec1[key] * vec2[key];
  });

  // è®¡ç®—æ¨¡é•¿
  let norm1 = 0;
  let norm2 = 0;
  keys.forEach((key) => {
    norm1 += vec1[key] ** 2;
    norm2 += vec2[key] ** 2;
  });
  norm1 = Math.sqrt(norm1);
  norm2 = Math.sqrt(norm2);

  // é˜²æ­¢é™¤ä»¥0
  if (norm1 === 0 || norm2 === 0) {
    return 0;
  }

  return dotProduct / (norm1 * norm2);
}

/**
 * å½’ä¸€åŒ–æ¬§æ°è·ç¦»è®¡ç®—
 * distance = sqrt(Î£(u_i - r_i)Â²) / sqrt(n)
 *
 * @param vec1 ç”¨æˆ·å‘é‡
 * @param vec2 è§’è‰²å‘é‡
 * @returns å½’ä¸€åŒ–è·ç¦» [0, 1]
 */
function normalizedEuclideanDistance(
  vec1: Record<string, number>,
  vec2: Record<string, number>
): number {
  const keys = Object.keys(vec1);
  const n = keys.length;

  let sumSquaredDiff = 0;
  keys.forEach((key) => {
    const diff = vec1[key] - vec2[key];
    sumSquaredDiff += diff * diff;
  });

  // å½’ä¸€åŒ–åˆ° [0, 1]ï¼šé™¤ä»¥ sqrt(n)ï¼ˆæœ€å¤§å¯èƒ½è·ç¦»ï¼‰
  return Math.sqrt(sumSquaredDiff) / Math.sqrt(n);
}

/**
 * æ··åˆç›¸ä¼¼åº¦ç®—æ³•ï¼ˆä½™å¼¦ç›¸ä¼¼åº¦ + æ¬§æ°è·ç¦»ï¼‰
 * åŒæ—¶è€ƒè™‘å‘é‡æ–¹å‘å’Œç»å¯¹å·®å¼‚
 *
 * similarity = 0.5 Ã— ä½™å¼¦ç›¸ä¼¼åº¦ + 0.5 Ã— (1 - å½’ä¸€åŒ–æ¬§æ°è·ç¦»)
 *
 * @param vec1 ç”¨æˆ·å‘é‡
 * @param vec2 è§’è‰²å‘é‡
 * @returns æ··åˆç›¸ä¼¼åº¦ [0, 1]
 */
function hybridSimilarity(
  vec1: Record<string, number>,
  vec2: Record<string, number>
): number {
  const cosineSim = cosineSimilarity(vec1, vec2);
  const euclideanDist = normalizedEuclideanDistance(vec1, vec2);

  // æ··åˆï¼šä½™å¼¦ç›¸ä¼¼åº¦ï¼ˆæ–¹å‘ï¼‰+ æ¬§æ°è·ç¦»è½¬ç›¸ä¼¼åº¦ï¼ˆç»å¯¹å·®å¼‚ï¼‰
  return 0.5 * cosineSim + 0.5 * (1 - euclideanDist);
}

/**
 * å››é˜¶æ®µå‘é‡å»ºæ¨¡æ–¹æ³•ï¼ˆåŠ å…¥ Likert é”šç‚¹æ ¡å‡†ï¼‰
 *
 * é˜¶æ®µ1ï¼šç»´åº¦å¾—åˆ†ç´¯åŠ ï¼ˆRaw Score Accumulation from forced-choice questionsï¼‰
 * é˜¶æ®µ2ï¼šMin-Maxå½’ä¸€åŒ–ï¼ˆNormalization - å¾—åˆ°ç›¸å¯¹åå¥½å‘é‡ï¼‰
 * é˜¶æ®µ3ï¼šLikert é”šç‚¹æ ¡å‡†ï¼ˆAnchor Calibration - æ¢å¤ç»å¯¹æ°´å¹³ï¼‰
 * é˜¶æ®µ4ï¼šä½™å¼¦ç›¸ä¼¼åº¦åŒ¹é…ï¼ˆCosine Similarityï¼‰
 */
export function calculateZHZResults(answers: Record<string, number>) {
    const dimensions = ['sensitivity', 'rationality', 'sociability', 'idealism', 'ambition', 'authenticity'] as const;
    type DimensionKey = typeof dimensions[number];

    // ============ é˜¶æ®µ1ï¼šç»´åº¦å¾—åˆ†ç´¯åŠ ï¼ˆä»… forced-choice é¢˜ï¼‰============
    const rawScores: Record<DimensionKey, number> = {
      sensitivity: 0,
      rationality: 0,
      sociability: 0,
      idealism: 0,
      ambition: 0,
      authenticity: 0,
    };

    // éå†æ‰€æœ‰ç­”æ¡ˆï¼Œç´¯åŠ å„ç»´åº¦åˆ†æ•°ï¼ˆæ’é™¤é”šç‚¹é¢˜ï¼‰
    zhz.questions.forEach((question) => {
      // è·³è¿‡ Likert é”šç‚¹é¢˜ï¼Œåªå¤„ç† forced-choice é¢˜
      if (question.type === 'likert') return;

      const answerId = answers[question.id];
      if (answerId !== undefined) {
        const selectedOption = question.options.find(opt => opt.value === answerId);
        if (selectedOption && 'scores' in selectedOption) {
          const scores = selectedOption.scores as Record<string, number>;
          Object.keys(rawScores).forEach((dim) => {
            const score = scores[dim] || 0;
            rawScores[dim as keyof typeof rawScores] += score;
          });
        }
      }
    });

    // ============ é˜¶æ®µ2ï¼šMin-Maxå½’ä¸€åŒ–ï¼ˆå¾—åˆ°ç›¸å¯¹åå¥½å‘é‡ï¼‰============
    // è®¡ç®—æ¯ä¸ªç»´åº¦çš„ç†è®ºæœ€å°å€¼å’Œæœ€å¤§å€¼ï¼ˆè€ƒè™‘è´Ÿåˆ†ï¼‰
    const { minScores: minPossible, maxScores: maxPossible } = calculateDimensionScoreRanges();

    const relativeScores: Record<DimensionKey, number> = {
      sensitivity: 0,
      rationality: 0,
      sociability: 0,
      idealism: 0,
      ambition: 0,
      authenticity: 0,
    };

    Object.keys(rawScores).forEach((dim) => {
      const dimKey = dim as keyof typeof rawScores;
      const min = minPossible[dimKey];
      const max = maxPossible[dimKey];
      const range = max - min;

      if (range > 0) {
        // å½’ä¸€åŒ–åˆ° 0-1 èŒƒå›´ï¼š(å®é™…å¾—åˆ† - æœ€å°å€¼) / (æœ€å¤§å€¼ - æœ€å°å€¼)
        relativeScores[dimKey] = Math.max(0, Math.min(1, (rawScores[dimKey] - min) / range));
      } else {
        // å¦‚æœèŒƒå›´ä¸º0ï¼ˆè¯¥ç»´åº¦æ²¡æœ‰ä»»ä½•å¾—åˆ†å˜åŒ–ï¼‰ï¼Œè®¾ä¸º0.5ï¼ˆä¸­æ€§ï¼‰
        relativeScores[dimKey] = 0.5;
      }
    });

    // ============ é˜¶æ®µ3ï¼šLikert é”šç‚¹æ ¡å‡†ï¼ˆæ¢å¤ç»å¯¹æ°´å¹³ï¼‰============
    // ä»é”šç‚¹é¢˜è·å–å„ç»´åº¦çš„ç»å¯¹æ°´å¹³ï¼ˆ1-5åˆ†ï¼‰
    const anchorScores: Record<DimensionKey, number> = {
      sensitivity: 0,
      rationality: 0,
      sociability: 0,
      idealism: 0,
      ambition: 0,
      authenticity: 0,
    };

    // è¯»å–é”šç‚¹é¢˜ç­”æ¡ˆ
    dimensions.forEach((dim) => {
      const anchorId = `zhz_anchor_${dim}`;
      const anchorAnswer = answers[anchorId];
      if (anchorAnswer !== undefined) {
        // Likert å¾—åˆ†å½’ä¸€åŒ–åˆ° 0-1ï¼š(ç­”æ¡ˆ - 1) / (5 - 1)
        anchorScores[dim] = (anchorAnswer - 1) / 4;
      } else {
        // å¦‚æœç”¨æˆ·æœªå›ç­”é”šç‚¹é¢˜ï¼Œé»˜è®¤ä½¿ç”¨ä¸­æ€§å€¼ 0.5
        anchorScores[dim] = 0.5;
      }
    });

    // æ ¡å‡†æ–¹æ³•ï¼šåŠ æƒæ··åˆ
    // calibratedScore = Î± Ã— relativeScore + Î² Ã— anchorScore
    // å…¶ä¸­ Î± = 0.6ï¼ˆç›¸å¯¹åå¥½æƒé‡ï¼‰ï¼ŒÎ² = 0.4ï¼ˆç»å¯¹æ°´å¹³æƒé‡ï¼‰
    const alpha = 0.6; // ç›¸å¯¹åå¥½æƒé‡
    const beta = 0.4;  // ç»å¯¹æ°´å¹³æƒé‡

    const calibratedScores: Record<DimensionKey, number> = {
      sensitivity: 0,
      rationality: 0,
      sociability: 0,
      idealism: 0,
      ambition: 0,
      authenticity: 0,
    };

    dimensions.forEach((dim) => {
      calibratedScores[dim] = alpha * relativeScores[dim] + beta * anchorScores[dim];
    });

    // ============ é˜¶æ®µ4ï¼šæ··åˆç›¸ä¼¼åº¦åŒ¹é… ============
    // ä½¿ç”¨æ ¡å‡†åçš„å¾—åˆ†è¿›è¡Œè§’è‰²åŒ¹é…ï¼ˆæ··åˆç®—æ³•ï¼šä½™å¼¦ç›¸ä¼¼åº¦ + æ¬§æ°è·ç¦»ï¼‰
    const similarities: Array<{ character: string; similarity: number }> = [];

    Object.entries(CHARACTER_PROFILES).forEach(([charId, charData]) => {
      const similarity = hybridSimilarity(calibratedScores, charData.scores);
      similarities.push({ character: charId, similarity });
    });

    // æŒ‰ç›¸ä¼¼åº¦æ’åºï¼Œå–å‰3
    similarities.sort((a, b) => b.similarity - a.similarity);
    const topMatches = similarities.slice(0, 3);

    // 5. æ„å»ºç»“æœ
    const primaryChar = CHARACTER_PROFILES[topMatches[0].character as keyof typeof CHARACTER_PROFILES];

    return {
      totalScore: Math.round(topMatches[0].similarity * 100),
      dimensionScores: Object.entries(calibratedScores).map(([key, value]) => ({
        dimension: ZHZ_DIMENSIONS[key as keyof typeof ZHZ_DIMENSIONS],
        score: Math.round(value * 100),
      })),
      interpretation: generateInterpretation(topMatches, calibratedScores),
      recommendations: [
        `ä½ çš„é¦–è¦äººæ ¼ç±»å‹æ˜¯ ${primaryChar.emoji} ${primaryChar.name}`,
        `ç›¸ä¼¼åº¦ï¼š${topMatches.map(m => {
          const char = CHARACTER_PROFILES[m.character as keyof typeof CHARACTER_PROFILES];
          return `${char.name} ${Math.round(m.similarity * 100)}%`;
        }).join(' | ')}`,
      ],
      metadata: {
        topCharacters: topMatches.map(m => ({
          id: m.character,
          name: CHARACTER_PROFILES[m.character as keyof typeof CHARACTER_PROFILES].name,
          similarity: Math.round(m.similarity * 100),
        })),
        userVector: calibratedScores,
        // é¢å¤–è¿”å›è°ƒè¯•ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰
        debug: {
          relativeScores,  // ä»…æ¥è‡ª forced-choice çš„ç›¸å¯¹åå¥½
          anchorScores,    // ä»…æ¥è‡ª Likert çš„ç»å¯¹æ°´å¹³
          calibratedScores // æ ¡å‡†åçš„æœ€ç»ˆå¾—åˆ†
        }
      }
    };
  }

// ç”Ÿæˆä¸ªæ€§åŒ–è§£è¯»
function generateInterpretation(
  topMatches: Array<{ character: string; similarity: number }>,
  userScores: Record<string, number>
): string {
  const primaryChar = CHARACTER_PROFILES[topMatches[0].character as keyof typeof CHARACTER_PROFILES];

  // æ‰¾åˆ°ç”¨æˆ·æœ€çªå‡ºçš„ç»´åº¦
  const sortedDims = Object.entries(userScores)
    .sort((a, b) => b[1] - a[1])
    .slice(0, 2);

  const dimNames = sortedDims.map(([key]) =>
    ZHZ_DIMENSIONS[key as keyof typeof ZHZ_DIMENSIONS]
  );

  return `${primaryChar.emoji} **ä½ æœ€åƒã€${primaryChar.name}ã€‘**\n\n` +
    `**${primaryChar.subtitle}**\n\n` +
    getCharacterDescription(topMatches[0].character) + '\n\n' +
    `ä½ çš„æ ¸å¿ƒç‰¹è´¨ä½“ç°åœ¨ **${dimNames.join('** å’Œ **')}** ä¸Šã€‚\n\n` +
    `**ä¸ä½ ç›¸ä¼¼çš„å…¶ä»–è§’è‰²ï¼š**\n` +
    topMatches.slice(1).map(m => {
      const char = CHARACTER_PROFILES[m.character as keyof typeof CHARACTER_PROFILES];
      return `â€¢ ${char.emoji} ${char.name} (${Math.round(m.similarity * 100)}%)`;
    }).join('\n');
}

// è§’è‰²è¯¦ç»†æè¿°
function getCharacterDescription(characterId: string): string {
  const descriptions: Record<string, string> = {
    'zhenhuan_early': 'ä½ å¿ƒæ€ç»†è…»ã€å–„è‰¯æ¸©å©‰ï¼Œé‡æƒ…é‡ä¹‰ã€‚ä½ ç›¸ä¿¡äººæ€§ç¾å¥½ï¼Œä¹Ÿå› æ­¤å®¹æ˜“å—ä¼¤ã€‚ä½ æœ‰æé«˜çš„åŒç†å¿ƒä¸é“å¾·æ„Ÿï¼Œæ„¿æ„ä¸ºäº†çˆ±å’ŒçœŸè¯šè€Œå¦¥åã€‚åœ¨äººé™…å…³ç³»ä¸­ï¼Œä½ å€¾å‘äºç”¨ç†è§£å’ŒåŒ…å®¹å»åŒ–è§£çŸ›ç›¾ï¼Œå¯¹å¾…æƒ…æ„Ÿæ—¶å……æ»¡æµªæ¼«çš„æœŸå¾…ã€‚\n\n**å…³é”®è¯ï¼šå…±æƒ…åŠ›ã€é“å¾·æ„Ÿã€çœŸè¯šæ¸©æš–**',

    'zhenhuan_late': 'ä½ ç»å†äº†æˆé•¿çš„èœ•å˜ï¼Œæ˜ç™½æŸ”è½¯ä¹Ÿéœ€è¦é”‹èŠ’ã€‚ä½ æ‡‚å¾—å¹³è¡¡ç†æƒ³ä¸ç°å®ï¼Œç”¨ç­–ç•¥å®ˆæŠ¤åº•çº¿ã€‚åœ¨å¤æ‚çš„äººé™…å…³ç³»ä¸­ï¼Œä½ èƒ½å¤Ÿä¿æŒæ¸…é†’çš„å¤´è„‘ï¼Œæ—¢ä¸è½»æ˜“ä¿¡ä»»ä¹Ÿä¸è½»æ˜“æ”¾å¼ƒï¼Œå–„äºåœ¨é€‚å½“çš„æ—¶æœºé‡‡å–è¡ŒåŠ¨ã€‚\n\n**å…³é”®è¯ï¼šæˆ˜ç•¥æ€ç»´ã€æƒ…ç»ªæŒæ§ã€é€‚åº”èƒ½åŠ›**',

    'anlingrong': 'ä½ å†…å¿ƒæ•æ„Ÿã€æ¸´æœ›è¢«çˆ±ï¼Œå´å®³æ€•è¢«å¿½è§†ã€‚å¤–ç•Œè¯„ä»·å¯¹ä½ å½±å“æ·±è¿œï¼Œå®¹æ˜“è‡ªè´£ä¸ç„¦è™‘ã€‚ä½ åŠªåŠ›æƒ³è¦è¯æ˜è‡ªå·±ï¼Œå´åˆæ‹…å¿ƒä¸å¤Ÿå¥½ã€‚åœ¨äººé™…äº¤å¾€ä¸­ï¼Œä½ å–„äºå¯Ÿè¨€è§‚è‰²ï¼Œä½†ä¹Ÿå®¹æ˜“è¿‡åº¦è§£è¯»ä»–äººçš„æ€åº¦ã€‚\n\n**å…³é”®è¯ï¼šç»†è‡´æ•é”ã€åŠªåŠ›ä¸Šè¿›ã€è‡ªæˆ‘ä»·å€¼æ„Ÿä½**',

    'queen': 'ä½ æ€ç»´ç¼œå¯†ã€è®¡åˆ’å‘¨å…¨ï¼Œæ“…é•¿åœ¨å¤æ‚å…³ç³»ä¸­æŒæ¡ä¸»åŠ¨ã€‚ä½ ä¸è½»ä¿¡ä»–äººï¼Œä¹Ÿæåº¦è‡ªå¾‹ã€‚åœ¨ä½ çœ¼ä¸­ï¼Œä¸–ç•Œæ˜¯ä¸€ä¸ªéœ€è¦ç²¾å¿ƒç®¡ç†çš„ç³»ç»Ÿï¼Œä½ ä¹ æƒ¯äºåˆ¶å®šè§„åˆ™ã€æŒæ§å±€é¢ï¼Œå¹¶ç¡®ä¿ä¸€åˆ‡æŒ‰ç…§è®¡åˆ’è¿›è¡Œã€‚\n\n**å…³é”®è¯ï¼šç³»ç»Ÿæ€ç»´ã€è‡ªå¾‹ã€æ²‰ç€å†·é™**',

    'huafei': 'ä½ è‡ªä¿¡å¼ æ‰¬ã€æƒ…æ„Ÿæµ“çƒˆï¼Œå–œæ¬¢æŒæ§åœºé¢ï¼Œä¹Ÿå®³æ€•å­¤ç‹¬ã€‚çƒ­æƒ…æ˜¯çœŸå®çš„ä½ ï¼Œéª„å‚²æ˜¯ä½ çš„ç›”ç”²ã€‚ä½ ä¸å–œæ¬¢éšè—ï¼Œçˆ±æ¨åˆ†æ˜ï¼Œæƒ…ç»ªè¡¨è¾¾ç›´æ¥è€Œå¼ºçƒˆã€‚åœ¨ç¤¾äº¤åœºåˆä¸­ï¼Œä½ å¾€å¾€æ˜¯ç„¦ç‚¹ï¼Œä½†ä¹Ÿæ¸´æœ›è¢«çœŸæ­£ç†è§£ã€‚\n\n**å…³é”®è¯ï¼šæ„ŸæŸ“åŠ›ã€è‡ªä¿¡æœæ•¢ã€çœŸå®å¦ç‡**',

    'shenmeizhuang': 'ä½ çœ‹ä¼¼æ¸©æŸ”ï¼Œå®åˆ™åšéŸ§ã€‚åœ¨å›°å¢ƒä¸­ä¿æŒè‡ªå°Šï¼Œå®å¯å—å§”å±ˆï¼Œä¹Ÿä¸ä¸¢åˆ†å¯¸ã€‚ä½ æœ‰ç€å¼ºå¤§çš„å†…åœ¨åŠ›é‡å’Œè‡ªæˆ‘çº¦æŸåŠ›ï¼Œæ‡‚å¾—åœ¨é€‚å½“çš„æ—¶å€™åšæŒåŸåˆ™ï¼Œä¹ŸçŸ¥é“ä½•æ—¶è¯¥å¦¥åã€‚ä½ æ˜¯å…¸å‹çš„å¤–æŸ”å†…åˆšå‹äººæ ¼ã€‚\n\n**å…³é”®è¯ï¼šéŸ§æ€§ã€è‡ªå°Šè‡ªé‡ã€æƒ…ç»ªç¨³å®š**',

    'huanbi': 'ä½ åŠ¡å®æœæ–­ï¼Œèƒ½åœ¨ç†æƒ³ä¸ç°å®ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ã€‚æœ‰é‡å¿ƒä½†ä¹Ÿæœ‰æƒ…ä¹‰ï¼Œæ“…é•¿éšå¿ä¸è‡ªæˆ‘è°ƒèŠ‚ã€‚ä½ æ¸…æ¥šåœ°çŸ¥é“è‡ªå·±æƒ³è¦ä»€ä¹ˆï¼Œä¹Ÿæ‡‚å¾—ä¸ºäº†ç›®æ ‡è¯¥ä»˜å‡ºä»€ä¹ˆã€‚ä½ ä¸ä¼šè¢«ä¸åˆ‡å®é™…çš„å¹»æƒ³æŸç¼šï¼Œä½†ä¹Ÿä¸æ˜¯å†·è¡€çš„åŠŸåˆ©ä¸»ä¹‰è€…ã€‚\n\n**å…³é”®è¯ï¼šæ‰§è¡ŒåŠ›ã€ç°å®åŠ¡å®ã€å¿ è¯šå¯é **',

    'supeisheng': 'ä½ æ‡‚äººæƒ…ä¸–æ•…ï¼ŒçŸ¥é“ä½•æ—¶å‡ºå£°ã€ä½•æ—¶æ²‰é»˜ã€‚ä¸æ±‚é”‹èŠ’ï¼Œä½†æ±‚å®‰ç¨³ä¸åœ†æ»¡ã€‚ä½ æ˜¯å›¢é˜Ÿä¸­çš„æ¶¦æ»‘å‰‚ï¼Œå–„äºè§‚å¯Ÿå’Œè°ƒèŠ‚æ°”æ°›ï¼Œä¸ä¼šæˆä¸ºå†²çªçš„ä¸­å¿ƒï¼Œä½†å¾€å¾€æ˜¯å…³é”®æ—¶åˆ»çš„ç¨³å®šåŠ›é‡ã€‚\n\n**å…³é”®è¯ï¼šæƒ…å•†é«˜ã€å¿ è¯šå¯é ã€çµæ´»åº”å˜**',

    'guojunwang': 'ä½ çƒ­æƒ…çœŸè¯šã€å¯Œæœ‰æµªæ¼«ä¸»ä¹‰ç²¾ç¥ã€‚è¿½æ±‚çœŸçˆ±ä¸è‡ªç”±ï¼Œä¸æ„¿è¢«æŸç¼šåœ¨æƒåŠ›ä¹‹ä¸­ã€‚ä½ ç›¸ä¿¡çœŸæƒ…å®æ„Ÿï¼Œæ„¿æ„ä¸ºäº†ç†æƒ³å’Œçˆ±æƒ…æ”¾å¼ƒä¸–ä¿—çš„åˆ©ç›Šã€‚ä½ çš„çœŸè¯šå’Œçƒ­æƒ…æ„ŸæŸ“ç€å‘¨å›´çš„äººã€‚\n\n**å…³é”®è¯ï¼šçœŸè¯šå¦ç‡ã€çƒ­æƒ…æ´‹æº¢ã€ç‹¬ç«‹æ€è€ƒ**',

    'wentaiyi': 'ä½ å…³å¿ƒä»–äººï¼Œæ„¿æ„ä¸ºåˆ«äººæ‰¿æ‹…ç—›è‹¦ã€‚åœ¨å®‰é™ä¸­å±•ç°åŠ›é‡ï¼Œåœ¨ç†æ™ºä¸­å®ˆæŠ¤æ¸©æƒ…ã€‚ä½ æœ‰ç€æ¸©æš–çš„å†…å¿ƒå’Œå†·é™çš„å¤´è„‘ï¼Œæ—¢èƒ½æ„ŸåŒèº«å—ï¼Œåˆèƒ½ä¿æŒä¸“ä¸šçš„è·ç¦»ã€‚ä½ æ˜¯å¤©ç”Ÿçš„å€¾å¬è€…å’Œç–—æ„ˆè€…ã€‚\n\n**å…³é”®è¯ï¼šåŒç†å¿ƒã€ç†æ€§æ¸©å’Œã€å®½å®¹åŒ…å®¹**',

    'emperor': 'ä½ å†·é™å†³æ–­ï¼Œæ“…é•¿ç»Ÿç­¹å…¨å±€ã€‚ç†æ€§å¼ºäºæ„Ÿæ€§ï¼Œé‡è§†æ§åˆ¶æ„Ÿå’Œç»“æœå¯¼å‘ã€‚ä½ ä¹ æƒ¯ç«™åœ¨é«˜å¤„ä¿¯ç°å…¨å±€ï¼Œå–„äºåœ¨å¤æ‚çš„å±€åŠ¿ä¸­åšå‡ºæœ€ä¼˜å†³ç­–ã€‚ä½ æ˜¯å¤©ç”Ÿçš„é¢†å¯¼è€…å’Œå†³ç­–è€…ã€‚\n\n**å…³é”®è¯ï¼šæˆ˜ç•¥çœ¼å…‰ã€å†³æ–­åŠ›ã€ç»Ÿç­¹èƒ½åŠ›**',

    'ningguiren': 'ä½ æ·±è°™æƒè¡¡ä¹‹é“ï¼Œæ‡‚å¾—ç”¨è¡¨é¢çš„æ¸©å’Œæ©é¥°é”‹èŠ’ã€‚ä½ æ“…é•¿ç­–ç•¥ä¸æ—¶æœºåˆ¤æ–­ï¼Œæ˜¯å…¸å‹çš„éšå½¢å¼ºè€…ã€‚ä½ ä¸æ€¥äºè¡¨ç°ï¼Œè€Œæ˜¯é™å¾…æ—¶æœºï¼Œåœ¨å…³é”®æ—¶åˆ»æ‰å±•éœ²å®åŠ›ã€‚ä½ æ˜¯å¤§å™¨æ™šæˆå‹äººæ ¼ã€‚\n\n**å…³é”®è¯ï¼šè€å¿ƒã€æ´å¯ŸåŠ›ã€ç­–ç•¥æ€ç»´**',
  };

  return descriptions[characterId] || '';
}

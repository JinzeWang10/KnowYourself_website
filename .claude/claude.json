{
  "project": {
    "name": "KnowYourself 知己——了解更真实的自己",
    "short_name": "KnowYourself",
    "description": "专业的心理量表测评平台，提供多种心理健康评估工具",
    "logo": {
      "fullsize": "knowyourself_logo_fullsize.png",
      "regular": "knowyourself_logo.png",
      "description": "简约的人物侧影与镜框设计，象征自我反思与认知"
    }
  },
  "context": {
    "framework": "Next.js 15 (App Router)",
    "language": "TypeScript",
    "styling": "Tailwind CSS",
    "charts": "Recharts",
    "storage": "LocalStorage (client-side only)"
  },
  "architecture": {
    "patterns": [
      "量表数据定义在 lib/scales/ 目录",
      "每个量表是独立的 TypeScript 文件",
      "使用 QuizTemplate 类型定义量表结构",
      "评分算法在 lib/scales/index.ts 或独立文件中",
      "页面路由：/scales/[scaleId]/* 动态路由"
    ],
    "key_features": [
      "完全本地化存储，隐私保护",
      "自动保存测评进度",
      "多维度结果分析",
      "雷达图可视化",
      "测评历史管理"
    ]
  },
  "scales": {
    "available": [
      {
        "id": "ani",
        "name": "ANI - 戒断必要性指数",
        "questions": 33,
        "customScoring": true,
        "note": "使用 lib/calculateANI.ts 自定义评分算法"
      },
      {
        "id": "scl90",
        "name": "SCL-90 - 症状自评量表",
        "questions": 90,
        "customScoring": false
      },
      {
        "id": "ess",
        "name": "ESS - 情绪稳定性量表",
        "questions": 20,
        "customScoring": false,
        "note": "包含反向计分题目（reversed: true），4个维度"
      }
    ]
  },
  "compliance": {
    "legal_disclaimers": {
      "non_medical": [
        "⚠️ 本平台非医疗机构，测评结果不具备临床诊断效力",
        "测评内容仅供自我了解与学习参考，不构成医疗、心理或精神健康诊断与治疗建议",
        "若存在严重情绪困扰、焦虑或行为成瘾，必须寻求专业心理医生或咨询师帮助"
      ],
      "liability": [
        "用户应理性看待测评结果，不将其作为决策依据",
        "因测评结果引发的误解、焦虑、冲突或其他后果，本平台不承担任何法律责任",
        "不保证所有测评结果的科学性、完整性或适用性"
      ],
      "crisis_resources": {
        "china_mainland": "400-161-9995",
        "hong_kong": "2382-0000",
        "international": "https://findahelpline.com"
      }
    },
    "privacy_requirements": {
      "data_collection": [
        "仅收集测评功能所必需的数据：账号信息、联系方式、测评答题结果与得分",
        "匿名作答时不收集可识别个人身份的数据",
        "数据采用加密存储与传输",
        "用户有权要求删除个人数据或测评记录"
      ],
      "data_usage": [
        "❌ 不会出售、出租或泄露任何用户数据给第三方",
        "✅ 仅用于提供测评服务、改进算法、统计分析或生成个性化报告",
        "✅ 用户可选择 Cookies，可在浏览器中禁用"
      ],
      "minor_protection": [
        "本平台不针对未满 18 岁用户推广性、心理或行为类测评",
        "未满 18 岁用户需在监护人指导下使用"
      ]
    },
    "content_standards": {
      "prohibited_features": [
        "❌ 禁止医疗诊断功能或医疗建议",
        "❌ 禁止羞辱、歧视、极端戒断或道德评判的表达",
        "❌ 禁止未经授权使用版权量表",
        "❌ 禁止收集未成年人敏感数据"
      ],
      "required_features": [
        "✅ 必须在测评前展示风险提示",
        "✅ 必须在结果页面显示免责声明",
        "✅ 必须提供心理援助热线信息",
        "✅ 必须提供数据删除功能",
        "✅ 必须在异常结果时提示寻求专业帮助"
      ],
      "ui_requirements": [
        "测评开始前显示《免责声明》和《用户协议》，需用户确认",
        "结果页面提示：'测评结果仅供参考，若有心理健康疑虑请联系专业机构'",
        "异常结果（如成瘾倾向、抑郁、焦虑）需特别标注并提供心理援助热线",
        "页脚包含：用户协议、隐私政策、免责声明链接"
      ]
    },
    "user_rights": [
      "查询、下载、修改或删除个人数据",
      "撤回数据使用授权",
      "举报或投诉不当内容",
      "随时注销账户"
    ],
    "contact_info": {
      "email": "support@yourdomain.com",
      "address": "（待填写注册公司或运营主体地址）"
    }
  },
  "guidelines": {
    "adding_new_scale": [
      "1. 在 lib/scales/ 创建新量表文件（如 new-scale.ts）",
      "2. 定义 QuizTemplate 结构：题目、维度、评分规则",
      "3. 在 lib/scales/index.ts 导入并添加到 scales 数组",
      "4. 如需自定义评分，创建独立计算文件并在 quiz/page.tsx 中调用",
      "5. 在首页 app/page.tsx 添加图标映射",
      "⚠️ 6. 确保量表来源合法，引用公开学术资料需注明出处",
      "⚠️ 7. 结果页面必须包含免责声明和心理援助信息"
    ],
    "privacy_first": [
      "所有用户数据存储在 localStorage",
      "不上传任何数据到服务器",
      "用户可随时清除浏览器缓存删除数据",
      "⚠️ 使用第三方服务（支付、统计）需在隐私政策中说明",
      "⚠️ 数据传输必须使用 HTTPS 加密"
    ],
    "code_style": [
      "使用 TypeScript 严格模式",
      "组件使用 'use client' 标记客户端组件",
      "保持简洁的代码注释",
      "遵循 Next.js App Router 最佳实践"
    ],
    "development_checklist": [
      "[ ] 测评开始前显示用户协议和免责声明",
      "[ ] 结果页面包含'仅供参考'提示",
      "[ ] 异常结果提供心理援助热线",
      "[ ] 实现数据删除功能",
      "[ ] 页脚添加法律文档链接",
      "[ ] 确保 localStorage 数据加密存储",
      "[ ] 添加 Cookie 使用提示（如使用）",
      "[ ] 未成年人使用提示（如涉及敏感内容）"
    ]
  },
  "commands": {
    "dev": "npm run dev (端口 3001)",
    "build": "npm run build",
    "start": "npm start"
  }
}
